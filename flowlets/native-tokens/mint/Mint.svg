<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="612px" preserveAspectRatio="none" style="width:1050px;height:612px;background:#FFFFFF;" version="1.1" viewBox="0 0 1050 612" width="1050px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="141.375" y2="480.4805"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78" x2="78" y1="141.375" y2="480.4805"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="183" x2="183" y1="141.375" y2="480.4805"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="274" x2="274" y1="141.375" y2="480.4805"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="604.5" x2="604.5" y1="141.375" y2="480.4805"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="909.5" x2="909.5" y1="141.375" y2="480.4805"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1010.5" x2="1010.5" y1="141.375" y2="480.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="138.4219">User</text><ellipse cx="23.5" cy="73.3867" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,81.3867 L23.5,108.3867 M10.5,89.3867 L36.5,89.3867 M23.5,108.3867 L10.5,123.3867 M23.5,108.3867 L36.5,123.3867 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="493.0156">User</text><ellipse cx="23.5" cy="504.4688" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,512.4688 L23.5,539.4688 M10.5,520.4688 L36.5,520.4688 M23.5,539.4688 L10.5,554.4688 M23.5,539.4688 L36.5,554.4688 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="52" y="109.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="59" y="130.4219">DApp</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="52" y="479.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="59" y="500.0156">DApp</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="138" y="109.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="145" y="130.4219">Midnight.js</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="138" y="479.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="145" y="500.0156">Midnight.js</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="238" y="109.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="245" y="130.4219">Contract</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="238" y="479.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="245" y="500.0156">Contract</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="510.5" y="109.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="517.5" y="130.4219">Compact standard library</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="510.5" y="479.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="517.5" y="500.0156">Compact standard library</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="845.5" y="109.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="852.5" y="130.4219">Builtins/Runtime</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="845.5" y="479.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="852.5" y="500.0156">Builtins/Runtime</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="983.5" y="109.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="990.5" y="130.4219">Wallet</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="983.5" y="479.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="990.5" y="500.0156">Wallet</text><polygon fill="#181818" points="171,168.6855,181,172.6855,171,176.6855,175,172.6855" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78" x2="177" y1="172.6855" y2="172.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="85" y="167.9434">call_contract</text><polygon fill="#181818" points="262.5,197.9961,272.5,201.9961,262.5,205.9961,266.5,201.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="183" x2="268.5" y1="201.9961" y2="201.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="190" y="197.2539">call</text><polygon fill="#181818" points="592.5,227.3066,602.5,231.3066,592.5,235.3066,596.5,231.3066" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="274.5" x2="598.5" y1="231.3066" y2="231.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306" x="281.5" y="226.5645">mint_token(domain_sep, value, nonce, recipient)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="646.5" y1="260.6172" y2="260.6172"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="646.5" x2="646.5" y1="260.6172" y2="273.6172"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="605.5" x2="646.5" y1="273.6172" y2="273.6172"/><polygon fill="#181818" points="615.5,269.6172,605.5,273.6172,615.5,277.6172,611.5,273.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="611.5" y="255.875">token_type(domain_sep, ledger.self())</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="646.5" y1="302.9277" y2="302.9277"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="646.5" x2="646.5" y1="302.9277" y2="315.9277"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="605.5" x2="646.5" y1="315.9277" y2="315.9277"/><polygon fill="#181818" points="615.5,311.9277,605.5,315.9277,615.5,319.9277,611.5,315.9277" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="611.5" y="298.1855">new CoinInfo(token_type, value, nonce)</text><polygon fill="#181818" points="897.5,341.2383,907.5,345.2383,897.5,349.2383,901.5,345.2383" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="903.5" y1="345.2383" y2="345.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="611.5" y="340.4961">mint(domain_sep, value, nonce)</text><polygon fill="#181818" points="194,370.5488,184,374.5488,194,378.5488,190,374.5488" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="188" x2="603.5" y1="374.5488" y2="374.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="200" y="369.8066">create_zswap_output(coin, recipient)</text><polygon fill="#181818" points="897.5,399.8594,907.5,403.8594,897.5,407.8594,901.5,403.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="604.5" x2="903.5" y1="403.8594" y2="403.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="611.5" y="399.1172">claim_zswap_coin_spend(coin_commitment)</text><polygon fill="#181818" points="285.5,429.1699,275.5,433.1699,285.5,437.1699,281.5,433.1699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279.5" x2="603.5" y1="433.1699" y2="433.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="291.5" y="428.4277">coin</text><polygon fill="#181818" points="194,458.4805,184,462.4805,194,466.4805,190,462.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="188" x2="273.5" y1="462.4805" y2="462.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="200" y="457.7383">coin</text><rect height="58.8867" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="118" x="924.5" y="5"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="49" x="993.5" y="14.668">mint.puml</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="118" x="924.5" y="26.4453">2024.01.03 at 12:43 CET</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="1039.5" y="38.2227"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="1039.5" y="50"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="1039.5" y="61.7773"> </text><rect height="47.1094" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="200" x="421.25" y="556.9688"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="519.75" y="566.6367"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="519.75" y="578.4141"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="519.75" y="590.1914"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="200" x="421.25" y="601.9688">Copyright 2024, Input Output Global, Ltd.</text><!--MD5=[31bd7213968fc0744c4ae787a69219e7]
@startuml "Mint"

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
' Please include this standard header
header %filename()\n%date("yyyy.MM.dd' at 'HH:mm z")\n\n\n
'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

actor User

participant DApp

participant "Midnight.js" as mnjs

participant Contract

participant "Compact standard library" as cstd

participant "Builtins/Runtime" as runtime

participant "Wallet" as wallet

DApp - -> mnjs : call_contract
mnjs - -> Contract : call
Contract - -> cstd : mint_token(domain_sep, value, nonce, recipient)
cstd - -> cstd : token_type(domain_sep, ledger.self())
cstd - -> cstd : new CoinInfo(token_type, value, nonce)
cstd - -> runtime : mint(domain_sep, value, nonce)
cstd - -> mnjs : create_zswap_output(coin, recipient)
cstd - -> runtime : claim_zswap_coin_spend(coin_commitment)
cstd - -> Contract : coin
Contract - -> mnjs : coin

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
' Please include this standard footer
footer \n\n\nCopyright %date("yyyy"), Input Output Global, Ltd.
'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -


@enduml

@startuml "Mint"

header mint.puml\n2024.01.03 at 12:43 CET\n\n\n

actor User

participant DApp

participant "Midnight.js" as mnjs

participant Contract

participant "Compact standard library" as cstd

participant "Builtins/Runtime" as runtime

participant "Wallet" as wallet

DApp - -> mnjs : call_contract
mnjs - -> Contract : call
Contract - -> cstd : mint_token(domain_sep, value, nonce, recipient)
cstd - -> cstd : token_type(domain_sep, ledger.self())
cstd - -> cstd : new CoinInfo(token_type, value, nonce)
cstd - -> runtime : mint(domain_sep, value, nonce)
cstd - -> mnjs : create_zswap_output(coin, recipient)
cstd - -> runtime : claim_zswap_coin_spend(coin_commitment)
cstd - -> Contract : coin
Contract - -> mnjs : coin

footer \n\n\nCopyright 2024, Input Output Global, Ltd.


@enduml

PlantUML version 1.2022.3(Tue Mar 29 18:10:57 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PL
--></g></svg>