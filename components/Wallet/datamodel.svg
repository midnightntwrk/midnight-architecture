<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="596px" preserveAspectRatio="none" style="width:1036px;height:596px;background:#FFFFFF;" version="1.1" viewBox="0 0 1036 596" width="1036px" zoomAndPan="magnify"><defs/><g><!--MD5=[2bb3ae8521833b2439d654d03182b239]
class EncryptedPrivateKey--><g id="elem_EncryptedPrivateKey"><rect codeLine="2" fill="#F1F1F1" height="48" id="EncryptedPrivateKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="154" y="541"/><ellipse cx="169" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M173.1143,563 L165.3945,563 L165.3945,550.6069 L173.1143,550.6069 L173.1143,552.7651 L167.8433,552.7651 L167.8433,555.438 L172.6162,555.438 L172.6162,557.5962 L167.8433,557.5962 L167.8433,560.8418 L173.1143,560.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="183" y="562.291">EncryptedPrivateKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="323" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="323" y1="581" y2="581"/></g><!--MD5=[b43eda3cf1795c310d0fc3c6dcee7a72]
class ViewingKey--><g id="elem_ViewingKey"><rect codeLine="3" fill="#F1F1F1" height="48" id="ViewingKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="7" y="432"/><ellipse cx="22" cy="448" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M26.1143,454 L18.3945,454 L18.3945,441.6069 L26.1143,441.6069 L26.1143,443.7651 L20.8433,443.7651 L20.8433,446.438 L25.6162,446.438 L25.6162,448.5962 L20.8433,448.5962 L20.8433,451.8418 L26.1143,451.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="36" y="453.291">ViewingKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="464" y2="464"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="472" y2="472"/></g><!--MD5=[c6d153f9551dd3a00861177ea9d737c1]
class KeyStore--><g id="elem_KeyStore"><rect codeLine="6" fill="#F1F1F1" height="48" id="KeyStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="193" y="432"/><ellipse cx="208" cy="448" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M212.1143,454 L204.3945,454 L204.3945,441.6069 L212.1143,441.6069 L212.1143,443.7651 L206.8433,443.7651 L206.8433,446.438 L211.6162,446.438 L211.6162,448.5962 L206.8433,448.5962 L206.8433,451.8418 L212.1143,451.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="222" y="453.291">KeyStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="284" y1="464" y2="464"/><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="284" y1="472" y2="472"/></g><!--MD5=[79593acfb0305ecf9e101e13abf886b9]
class KeyChain--><g id="elem_KeyChain"><rect codeLine="7" fill="#F1F1F1" height="48" id="KeyChain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="102" y="307"/><ellipse cx="117" cy="323" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M121.1143,329 L113.3945,329 L113.3945,316.6069 L121.1143,316.6069 L121.1143,318.7651 L115.8433,318.7651 L115.8433,321.438 L120.6162,321.438 L120.6162,323.5962 L115.8433,323.5962 L115.8433,326.8418 L121.1143,326.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="131" y="328.291">KeyChain</text><line style="stroke:#181818;stroke-width:0.5;" x1="103" x2="197" y1="339" y2="339"/><line style="stroke:#181818;stroke-width:0.5;" x1="103" x2="197" y1="347" y2="347"/></g><!--MD5=[2a04af076941991142dd6447ef7c8ea1]
class RelevantTxFilter--><g id="elem_RelevantTxFilter"><rect codeLine="8" fill="#F1F1F1" height="64.4883" id="RelevantTxFilter" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="164" y="157"/><ellipse cx="204.65" cy="173" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M208.7643,179 L201.0445,179 L201.0445,166.6069 L208.7643,166.6069 L208.7643,168.7651 L203.4933,168.7651 L203.4933,171.438 L208.2662,171.438 L208.2662,173.5962 L203.4933,173.5962 L203.4933,176.8418 L208.7643,176.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="224.35" y="178.291">RelevantTxFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="165" x2="363" y1="189" y2="189"/><ellipse cx="175" cy="200" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="184" y="206.5352">filterDefinition: Definition</text><line style="stroke:#181818;stroke-width:0.5;" x1="165" x2="363" y1="213.4883" y2="213.4883"/></g><!--MD5=[2b385e3ef8f615e58d4080ccd927babc]
class SyncBlock--><g id="elem_SyncBlock"><rect codeLine="11" fill="#F1F1F1" height="48" id="SyncBlock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="735.5" y="165"/><ellipse cx="750.5" cy="181" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M754.6143,187 L746.8945,187 L746.8945,174.6069 L754.6143,174.6069 L754.6143,176.7651 L749.3433,176.7651 L749.3433,179.438 L754.1162,179.438 L754.1162,181.5962 L749.3433,181.5962 L749.3433,184.8418 L754.6143,184.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="764.5" y="186.291">SyncBlock</text><line style="stroke:#181818;stroke-width:0.5;" x1="736.5" x2="833.5" y1="197" y2="197"/><line style="stroke:#181818;stroke-width:0.5;" x1="736.5" x2="833.5" y1="205" y2="205"/></g><!--MD5=[aaa82ee819e409c7f47a0f1375d8e1e8]
class SyncTransaction--><g id="elem_SyncTransaction"><rect codeLine="12" fill="#F1F1F1" height="48" id="SyncTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="701" y="307"/><ellipse cx="716" cy="323" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M720.1143,329 L712.3945,329 L712.3945,316.6069 L720.1143,316.6069 L720.1143,318.7651 L714.8433,318.7651 L714.8433,321.438 L719.6162,321.438 L719.6162,323.5962 L714.8433,323.5962 L714.8433,326.8418 L720.1143,326.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="730" y="328.291">SyncTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="702" x2="844" y1="339" y2="339"/><line style="stroke:#181818;stroke-width:0.5;" x1="702" x2="844" y1="347" y2="347"/></g><!--MD5=[0164bdab82738efd25435ed1b870118f]
class RelevantTransaction--><g id="elem_RelevantTransaction"><rect codeLine="13" fill="#F1F1F1" height="48" id="RelevantTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="687.5" y="432"/><ellipse cx="702.5" cy="448" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M706.6143,454 L698.8945,454 L698.8945,441.6069 L706.6143,441.6069 L706.6143,443.7651 L701.3433,443.7651 L701.3433,446.438 L706.1162,446.438 L706.1162,448.5962 L701.3433,448.5962 L701.3433,451.8418 L706.6143,451.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="716.5" y="453.291">RelevantTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="688.5" x2="857.5" y1="464" y2="464"/><line style="stroke:#181818;stroke-width:0.5;" x1="688.5" x2="857.5" y1="472" y2="472"/></g><!--MD5=[4899691ac04b654407999835b9998e46]
class TransactionHistory--><g id="elem_TransactionHistory"><rect codeLine="14" fill="#F1F1F1" height="48" id="TransactionHistory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="482.5" y="307"/><ellipse cx="497.5" cy="323" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M501.6143,329 L493.8945,329 L493.8945,316.6069 L501.6143,316.6069 L501.6143,318.7651 L496.3433,318.7651 L496.3433,321.438 L501.1162,321.438 L501.1162,323.5962 L496.3433,323.5962 L496.3433,326.8418 L501.6143,326.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="511.5" y="328.291">TransactionHistory</text><line style="stroke:#181818;stroke-width:0.5;" x1="483.5" x2="642.5" y1="339" y2="339"/><line style="stroke:#181818;stroke-width:0.5;" x1="483.5" x2="642.5" y1="347" y2="347"/></g><!--MD5=[43c3931aad95f43f65e651b4a617536c]
class DAppConnection--><g id="elem_DAppConnection"><rect codeLine="15" fill="#F1F1F1" height="48" id="DAppConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="880.5" y="307"/><ellipse cx="895.5" cy="323" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M899.6143,329 L891.8945,329 L891.8945,316.6069 L899.6143,316.6069 L899.6143,318.7651 L894.3433,318.7651 L894.3433,321.438 L899.1162,321.438 L899.1162,323.5962 L894.3433,323.5962 L894.3433,326.8418 L899.6143,326.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="909.5" y="328.291">DAppConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="881.5" x2="1028.5" y1="339" y2="339"/><line style="stroke:#181818;stroke-width:0.5;" x1="881.5" x2="1028.5" y1="347" y2="347"/></g><!--MD5=[deb3a582903b940fb493d0df4fa00845]
class WalletBackendConnection--><g id="elem_WalletBackendConnection"><rect codeLine="16" fill="#F1F1F1" height="48" id="WalletBackendConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="680.5" y="15"/><ellipse cx="695.5" cy="31" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M699.6143,37 L691.8945,37 L691.8945,24.6069 L699.6143,24.6069 L699.6143,26.7651 L694.3433,26.7651 L694.3433,29.438 L699.1162,29.438 L699.1162,31.5962 L694.3433,31.5962 L694.3433,34.8418 L699.6143,34.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="709.5" y="36.291">WalletBackendConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="681.5" x2="888.5" y1="47" y2="47"/><line style="stroke:#181818;stroke-width:0.5;" x1="681.5" x2="888.5" y1="55" y2="55"/></g><!--MD5=[f18cbbd586a3bb29b8d64278e80b7c4d]
class StateSnapshot--><g id="elem_StateSnapshot"><rect codeLine="17" fill="#F1F1F1" height="113.9531" id="StateSnapshot" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="399.5" y="132"/><ellipse cx="454.75" cy="148" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M458.8643,154 L451.1445,154 L451.1445,141.6069 L458.8643,141.6069 L458.8643,143.7651 L453.5933,143.7651 L453.5933,146.438 L458.3662,146.438 L458.3662,148.5962 L453.5933,148.5962 L453.5933,151.8418 L458.8643,151.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="475.25" y="153.291">StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="400.5" x2="615.5" y1="164" y2="164"/><ellipse cx="410.5" cy="175" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="419.5" y="181.5352">newEvents: WalletEvent</text><ellipse cx="410.5" cy="191.4883" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="419.5" y="198.0234">derivedState : DerivedState</text><ellipse cx="410.5" cy="207.9766" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="419.5" y="214.5117">knownAddresses: Address[]</text><ellipse cx="410.5" cy="224.4648" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="419.5" y="231">balance: Balance</text><line style="stroke:#181818;stroke-width:0.5;" x1="400.5" x2="615.5" y1="237.9531" y2="237.9531"/></g><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><g id="elem_Wallet"><rect codeLine="23" fill="#F1F1F1" height="64.4883" id="Wallet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="154" y="7"/><ellipse cx="239.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M243.3643,29 L235.6445,29 L235.6445,16.6069 L243.3643,16.6069 L243.3643,18.7651 L238.0933,18.7651 L238.0933,21.438 L242.8662,21.438 L242.8662,23.5962 L238.0933,23.5962 L238.0933,26.8418 L243.3643,26.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="259.75" y="28.291">Wallet</text><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="373" y1="39" y2="39"/><ellipse cx="165" cy="50" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="174" y="56.5352">lastSnapshot: StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="373" y1="63.4883" y2="63.4883"/></g><!--MD5=[a4e4d8ff56731b9cc6b70ddca056ea7b]
link Wallet to StateSnapshot--><g id="link_Wallet_StateSnapshot"><path codeLine="27" d="M322.11,75.25 C347.95,90.92 379.12,109.83 408.49,127.64 " fill="none" id="Wallet-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.6728" x2="418.6253" y1="127.7463" y2="126.7721"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.6728" x2="412.3947" y1="127.7463" y2="137.0279"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.6728" x2="415.51" y1="127.7463" y2="131.9"/><line style="stroke:#181818;stroke-width:1.0;" x1="409.0404" x2="404.8867" y1="123.2893" y2="130.1265"/><line style="stroke:#181818;stroke-width:1.0;" x1="316.5001" x2="320.6434" y1="76.5234" y2="69.6799"/><line style="stroke:#181818;stroke-width:1.0;" x1="319.0664" x2="323.2097" y1="78.0771" y2="71.2336"/><line style="stroke:#181818;stroke-width:1.0;" x1="321.9935" x2="315.15" y1="75.1732" y2="71.03"/></g><!--MD5=[f4aaeb60564af7e2b0ee51d26ab97764]
link Wallet to KeyChain--><g id="link_Wallet_KeyChain"><path codeLine="28" d="M198.14,75.21 C177.56,89.83 157.31,108.85 146,132 C119.46,186.36 131.29,259.52 141.28,299.96 " fill="none" id="Wallet-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="145.9292" x2="138.1807" y1="302.0107" y2="304.0008"/><line style="stroke:#181818;stroke-width:1.0;" x1="145.1829" x2="137.4344" y1="299.105" y2="301.0951"/><line style="stroke:#181818;stroke-width:1.0;" x1="141.0599" x2="143.05" y1="299.1315" y2="306.88"/><line style="stroke:#181818;stroke-width:1.0;" x1="198.3761" x2="202.9187" y1="70.1887" y2="76.7739"/><line style="stroke:#181818;stroke-width:1.0;" x1="195.9067" x2="200.4493" y1="71.8922" y2="78.4774"/><line style="stroke:#181818;stroke-width:1.0;" x1="197.3548" x2="203.94" y1="75.7526" y2="71.21"/></g><!--MD5=[eac7d97cbb1d1f5ca7d64b87306b5bd1]
link Wallet to RelevantTxFilter--><g id="link_Wallet_RelevantTxFilter"><path codeLine="29" d="M264,79.31 C264,100.7 264,127.09 264,148.52 " fill="none" id="Wallet-RelevantTxFilter" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="270" y1="148.76" y2="156.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="258" y1="148.76" y2="156.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="264" y1="148.76" y2="156.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="268" x2="260" y1="146.76" y2="146.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="260" x2="268" y1="75.03" y2="75.03"/><line style="stroke:#181818;stroke-width:1.0;" x1="260" x2="268" y1="78.03" y2="78.03"/><line style="stroke:#181818;stroke-width:1.0;" x1="264" x2="264" y1="79.03" y2="71.03"/></g><!--MD5=[57bb2d1dd60281233820eafac1c03891]
link StateSnapshot to TransactionHistory--><g id="link_StateSnapshot_TransactionHistory"><path codeLine="31" d="M533,253.63 C539.22,269.46 545.61,285.73 550.88,299.16 " fill="none" id="StateSnapshot-TransactionHistory" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="556.1076" x2="548.6632" y1="301.5232" y2="304.4524"/><line style="stroke:#181818;stroke-width:1.0;" x1="555.0092" x2="547.5647" y1="298.7315" y2="301.6607"/><line style="stroke:#181818;stroke-width:1.0;" x1="550.9208" x2="553.85" y1="299.2656" y2="306.71"/><line style="stroke:#181818;stroke-width:1.0;" x1="532.9743" x2="524.4652" y1="253.5864" y2="248.3333"/><line style="stroke:#181818;stroke-width:1.0;" x1="532.9743" x2="535.6348" y1="253.5864" y2="243.9467"/><line style="stroke:#181818;stroke-width:1.0;" x1="532.9743" x2="530.05" y1="253.5864" y2="246.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="529.9822" x2="537.4286" y1="256.9101" y2="253.9858"/></g><!--MD5=[c4f3e82f27b32a11313cf9a67f530cbb]
link StateSnapshot to StateSnapshot--><g id="link_StateSnapshot_StateSnapshot"><path codeLine="32" d="M624.83,174.65 C640.83,177.04 651.5,181.82 651.5,189 C651.5,196.18 640.83,200.96 624.83,203.35 " fill="none" id="StateSnapshot-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.0067" x2="620.0794" y1="207.8394" y2="199.8933"/><line style="stroke:#181818;stroke-width:1.0;" x1="623.9865" x2="623.0592" y1="207.4917" y2="199.5456"/><line style="stroke:#181818;stroke-width:1.0;" x1="624.5161" x2="616.57" y1="203.4027" y2="204.33"/><line style="stroke:#181818;stroke-width:1.0;" x1="627.4959" x2="616.57" y1="174.945" y2="173.67"/><ellipse cx="627.4959" cy="174.945" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="620.0794" x2="621.0067" y1="178.1067" y2="170.1606"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="657.5" y="194.0684">previous</text></g><!--MD5=[45dc4411079e1d24527a88f21fc8d174]
link TransactionHistory to RelevantTransaction--><g id="link_TransactionHistory_RelevantTransaction"><path codeLine="34" d="M609.75,359.38 C644.52,379.75 691.75,407.41 726.47,427.75 " fill="none" id="TransactionHistory-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="726.7776" x2="736.7132" y1="427.9257" y2="426.7932"/><line style="stroke:#181818;stroke-width:1.0;" x1="726.7776" x2="730.6468" y1="427.9257" y2="437.1468"/><line style="stroke:#181818;stroke-width:1.0;" x1="726.7776" x2="733.68" y1="427.9257" y2="431.97"/><ellipse cx="721.6007" cy="424.8925" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="609.4024" x2="599.4668" y1="359.1843" y2="360.3168"/><line style="stroke:#181818;stroke-width:1.0;" x1="609.4024" x2="605.5332" y1="359.1843" y2="349.9632"/><line style="stroke:#181818;stroke-width:1.0;" x1="609.4024" x2="602.5" y1="359.1843" y2="355.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="609.1059" x2="613.1502" y1="363.6466" y2="356.7441"/></g><!--MD5=[9e748b3115b6e9e7da39921cf4e9ae8c]
link DAppConnection to RelevantTransaction--><g id="link_DAppConnection_RelevantTransaction"><path codeLine="36" d="M914.08,359.65 C884.23,379.83 843.94,407.06 814.05,427.25 " fill="none" id="DAppConnection-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="813.7055" x2="810.4427" y1="427.4864" y2="436.9391"/><line style="stroke:#181818;stroke-width:1.0;" x1="813.7055" x2="803.7173" y1="427.4864" y2="427.0009"/><line style="stroke:#181818;stroke-width:1.0;" x1="813.7055" x2="807.08" y1="427.4864" y2="431.97"/><ellipse cx="818.6746" cy="424.1237" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="914.149" x2="917.4023" y1="359.6303" y2="350.1743"/><line style="stroke:#181818;stroke-width:1.0;" x1="914.149" x2="924.1377" y1="359.6303" y2="360.1057"/><line style="stroke:#181818;stroke-width:1.0;" x1="914.149" x2="920.77" y1="359.6303" y2="355.14"/><ellipse cx="909.1833" cy="362.998" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[80d1d1a9b8350dfbc037e3b0ae507abf]
link WalletBackendConnection to SyncBlock--><g id="link_WalletBackendConnection_SyncBlock"><path codeLine="37" d="M785,71.35 C785,96.4 785,131.34 785,156.44 " fill="none" id="WalletBackendConnection-SyncBlock" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="791" y1="156.55" y2="164.55"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="779" y1="156.55" y2="164.55"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="785" y1="156.55" y2="164.55"/><ellipse cx="785" cy="150.55" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="785.0196" x2="785" y1="74.12" y2="63.12"/><ellipse cx="785.0196" cy="74.12" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="781.0071" x2="789.0071" y1="67.1271" y2="67.1129"/></g><!--MD5=[05ca6f8a6d4981b0b974291c7d72e718]
link SyncTransaction to RelevantTransaction--><g id="link_SyncTransaction_RelevantTransaction"><path codeLine="38" d="M773,363.28 C773,381.84 773,405.29 773,423.83 " fill="none" id="SyncTransaction-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773" x2="773" y1="420.97" y2="431.97"/><ellipse cx="773" cy="420.97" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="777" x2="769" y1="427.97" y2="427.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="769" x2="777" y1="359.14" y2="359.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="769" x2="777" y1="362.14" y2="362.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="773" x2="773" y1="363.14" y2="355.14"/></g><!--MD5=[0f581947a06233c0a5c9dc4ce17eb692]
link SyncBlock to SyncTransaction--><g id="link_SyncBlock_SyncTransaction"><path codeLine="39" d="M782.33,221.14 C780.35,244.24 777.66,275.6 775.68,298.73 " fill="none" id="SyncBlock-SyncTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="775.6656" x2="780.9579" y1="298.8794" y2="307.3642"/><line style="stroke:#181818;stroke-width:1.0;" x1="775.6656" x2="769.0021" y1="298.8794" y2="306.3358"/><line style="stroke:#181818;stroke-width:1.0;" x1="775.6656" x2="774.98" y1="298.8794" y2="306.85"/><line style="stroke:#181818;stroke-width:1.0;" x1="779.8223" x2="771.8518" y1="297.2296" y2="296.544"/><line style="stroke:#181818;stroke-width:1.0;" x1="778.6913" x2="786.6618" y1="216.7618" y2="217.4487"/><line style="stroke:#181818;stroke-width:1.0;" x1="778.4338" x2="786.4042" y1="219.7507" y2="220.4376"/><line style="stroke:#181818;stroke-width:1.0;" x1="782.3331" x2="783.02" y1="221.0905" y2="213.12"/></g><!--MD5=[04109ef3968592d3e04ba9087877e9e5]
link RelevantTxFilter to KeyChain--><g id="link_RelevantTxFilter_KeyChain"><path codeLine="42" d="M233.6,227.33 C214.94,250.25 191.38,279.19 174.03,300.49 " fill="none" id="RelevantTxFilter-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="175.7813" x2="168.85" y1="298.3085" y2="306.85"/><ellipse cx="175.7813" cy="298.3085" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="174.4765" x2="168.2645" y1="306.2645" y2="301.2235"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.0729" x2="239.2792" y1="221.6492" y2="226.6971"/><line style="stroke:#181818;stroke-width:1.0;" x1="231.1799" x2="237.3862" y1="223.9765" y2="229.0245"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.652" x2="238.7" y1="227.2763" y2="221.07"/></g><!--MD5=[46a40e25e98bf184adec2c33e3c821f4]
link KeyChain to ViewingKey--><g id="link_KeyChain_ViewingKey"><path codeLine="44" d="M95.65,351.69 C81.19,359.71 67.29,370.58 59,385 C52.2,396.83 51.94,411.74 53.79,424.76 " fill="none" id="KeyChain-ViewingKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.2555" x2="50.3738" y1="427.1338" y2="428.5045"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.7415" x2="49.8598" y1="424.1782" y2="425.5489"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.6293" x2="55" y1="423.8783" y2="431.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="96.4717" x2="100.1794" y1="346.7394" y2="353.8283"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.8133" x2="97.5211" y1="348.1299" y2="355.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="94.7811" x2="101.87" y1="352.1378" y2="348.43"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="60" y="398.5684">derives from private key</text></g><!--MD5=[111cd2fe4ae85a005e9d115304bf4493]
link KeyChain to KeyStore--><g id="link_KeyChain_KeyStore"><path codeLine="45" d="M192.67,359.46 C201.69,366.86 210.45,375.49 217,385 C225.11,396.77 230.33,411.68 233.65,424.7 " fill="none" id="KeyChain-KeyStore" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="238.2798" x2="230.4916" y1="426.9016" y2="428.7302"/><line style="stroke:#181818;stroke-width:1.0;" x1="237.594" x2="229.8058" y1="423.981" y2="425.8097"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.4713" x2="235.3" y1="423.9218" y2="431.71"/><line style="stroke:#181818;stroke-width:1.0;" x1="187.6905" x2="192.6482" y1="360.6382" y2="354.3595"/><line style="stroke:#181818;stroke-width:1.0;" x1="190.045" x2="195.0027" y1="362.4973" y2="356.2187"/><line style="stroke:#181818;stroke-width:1.0;" x1="193.3086" x2="187.03" y1="359.9777" y2="355.02"/></g><!--MD5=[046f29df0507760fd8842fa727e2ee0d]
link KeyStore to EncryptedPrivateKey--><g id="link_KeyStore_EncryptedPrivateKey"><path codeLine="46" d="M239,487.24 C239,501.72 239,519.02 239,533.53 " fill="none" id="KeyStore-EncryptedPrivateKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="235" y1="536.83" y2="536.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="235" y1="533.83" y2="533.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="239" y1="532.83" y2="540.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="243" y1="484.22" y2="484.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="243" y1="487.22" y2="487.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="239" y1="488.22" y2="480.22"/></g><!--MD5=[146effb77470431a73a8ba4104221e3b]
@startuml

entity EncryptedPrivateKey {}
entity ViewingKey {

}
entity KeyStore {}
entity KeyChain {}
entity RelevantTxFilter {
  * filterDefinition: Definition
}
entity SyncBlock {}
entity SyncTransaction {}
entity RelevantTransaction {}
entity TransactionHistory {}
entity DAppConnection {}
entity WalletBackendConnection {}
entity StateSnapshot {
  * newEvents: WalletEvent
  * derivedState : DerivedState
  * knownAddresses: Address[]
  * balance: Balance
}
entity Wallet {
  * lastSnapshot: StateSnapshot
}

Wallet ||- -|{ StateSnapshot
Wallet ||- -|| KeyChain
Wallet ||- -|{ RelevantTxFilter

StateSnapshot }|- -|| TransactionHistory
StateSnapshot |o- -|| StateSnapshot : previous

TransactionHistory }|- -o{ RelevantTransaction

DAppConnection }o- -o{ RelevantTransaction
WalletBackendConnection |o- -o{ SyncBlock
SyncTransaction ||- -o| RelevantTransaction
SyncBlock ||- -|{ SyncTransaction


RelevantTxFilter ||- -o| KeyChain

KeyChain ||- -|| ViewingKey : derives from private key
KeyChain ||- -|| KeyStore
KeyStore ||- -|| EncryptedPrivateKey
@enduml

PlantUML version 1.2022.4(Sat Apr 09 15:29:17 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pl
Country: PL
--></g></svg>