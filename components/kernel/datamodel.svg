<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="996px" preserveAspectRatio="none" style="width:1111px;height:996px;background:#FFFFFF;" version="1.1" viewBox="0 0 1111 996" width="1111px" zoomAndPan="magnify"><defs/><g><rect height="60.1999" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="99" x="998.5" y="0"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="66" x="1031.5" y="9.28">datamodel.puml</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="99" x="998.5" y="21.32">2022.06.15 at 17:53 BST</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2" x="1095.5" y="33.36"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2" x="1095.5" y="45.4"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2" x="1095.5" y="57.4399"> </text><!--MD5=[4555bb1b0911a5adf28ce6dbe60fed2e]
class Transaction--><g id="elem_Transaction"><rect codeLine="10" fill="#F1F1F1" height="115.4237" id="Transaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="461" y="85.1999"/><ellipse cx="521.75" cy="101.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M525.625,107.1999 C525.7813,107.1999 525.875,107.0906 525.875,106.9499 L525.875,105.4812 C525.875,105.3249 525.7813,105.2312 525.625,105.2312 L520.2969,105.2312 L520.2969,102.4499 L525.2188,102.4499 C525.375,102.4499 525.4844,102.3406 525.4844,102.1999 L525.4844,100.7312 C525.4844,100.5749 525.375,100.4812 525.2188,100.4812 L520.2969,100.4812 L520.2969,97.7781 L525.6094,97.7781 C525.7656,97.7781 525.8594,97.6843 525.8594,97.5281 L525.8594,96.0593 C525.8594,95.9187 525.7656,95.8093 525.6094,95.8093 L518.3438,95.8093 C518.1875,95.8093 518.0781,95.9187 518.0781,96.0593 L518.0781,106.9499 C518.0781,107.0906 518.1875,107.1999 518.3438,107.1999 L525.625,107.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="542.25" y="105.7639">Transaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="462" x2="656" y1="117.1999" y2="117.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="467" y="134.1919">hash : TransactionHash «PK»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="467" y="151.0478">bindingRandomness : Field</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="467" y="167.9037">publicValues : Set&lt;Type, Value&gt;</text><line style="stroke:#181818;stroke-width:1.0;" x1="462" x2="656" y1="175.7677" y2="175.7677"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="467" y="192.7597">validate : Bool</text></g><!--MD5=[c2f192387cc37f844f10d2086405ac8e]
class ZswapOutput--><g id="elem_ZswapOutput"><rect codeLine="18" fill="#F1F1F1" height="115.4237" id="ZswapOutput" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="612" y="268.6999"/><ellipse cx="663.75" cy="284.6999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M667.625,290.6999 C667.7813,290.6999 667.875,290.5906 667.875,290.4499 L667.875,288.9812 C667.875,288.8249 667.7813,288.7312 667.625,288.7312 L662.2969,288.7312 L662.2969,285.9499 L667.2188,285.9499 C667.375,285.9499 667.4844,285.8406 667.4844,285.6999 L667.4844,284.2312 C667.4844,284.0749 667.375,283.9812 667.2188,283.9812 L662.2969,283.9812 L662.2969,281.2781 L667.6094,281.2781 C667.7656,281.2781 667.8594,281.1843 667.8594,281.0281 L667.8594,279.5593 C667.8594,279.4187 667.7656,279.3093 667.6094,279.3093 L660.3438,279.3093 C660.1875,279.3093 660.0781,279.4187 660.0781,279.5593 L660.0781,290.4499 C660.0781,290.5906 660.1875,290.6999 660.3438,290.6999 L667.625,290.6999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="684.25" y="289.2639">ZswapOutput</text><line style="stroke:#181818;stroke-width:0.5;" x1="613" x2="801" y1="300.6999" y2="300.6999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="618" y="317.6919">coinNote : Note</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="618" y="334.5478">valueCom : ValueCommitment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="618" y="351.4037">message : ByteString</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="618" y="368.2597">proof : Proof</text><line style="stroke:#181818;stroke-width:0.5;" x1="613" x2="801" y1="376.1236" y2="376.1236"/></g><!--MD5=[1b68b4de4dd893ffabb69bce0342beef]
class ZswapInput--><g id="elem_ZswapInput"><rect codeLine="25" fill="#F1F1F1" height="115.4237" id="ZswapInput" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="837" y="268.6999"/><ellipse cx="894.75" cy="284.6999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M898.625,290.6999 C898.7813,290.6999 898.875,290.5906 898.875,290.4499 L898.875,288.9812 C898.875,288.8249 898.7813,288.7312 898.625,288.7312 L893.2969,288.7312 L893.2969,285.9499 L898.2188,285.9499 C898.375,285.9499 898.4844,285.8406 898.4844,285.6999 L898.4844,284.2312 C898.4844,284.0749 898.375,283.9812 898.2188,283.9812 L893.2969,283.9812 L893.2969,281.2781 L898.6094,281.2781 C898.7656,281.2781 898.8594,281.1843 898.8594,281.0281 L898.8594,279.5593 C898.8594,279.4187 898.7656,279.3093 898.6094,279.3093 L891.3438,279.3093 C891.1875,279.3093 891.0781,279.4187 891.0781,279.5593 L891.0781,290.4499 C891.0781,290.5906 891.1875,290.6999 891.3438,290.6999 L898.625,290.6999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="915.25" y="289.2639">ZswapInput</text><line style="stroke:#181818;stroke-width:0.5;" x1="838" x2="1026" y1="300.6999" y2="300.6999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="843" y="317.6919">merkleRoot : Field</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="843" y="334.5478">nullifier: Nullifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="843" y="351.4037">valueCom : ValueCommitment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="843" y="368.2597">proof : Proof</text><line style="stroke:#181818;stroke-width:0.5;" x1="838" x2="1026" y1="376.1236" y2="376.1236"/></g><!--MD5=[0497f6d193a434fe39171cd3e9d178fe]
class ZswapImmediatelySpent--><g id="elem_ZswapImmediatelySpent"><rect codeLine="32" fill="#F1F1F1" height="81.7119" id="ZswapImmediatelySpent" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="316" y="285.1999"/><ellipse cx="338.65" cy="301.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M342.525,307.1999 C342.6813,307.1999 342.775,307.0906 342.775,306.9499 L342.775,305.4812 C342.775,305.3249 342.6813,305.2312 342.525,305.2312 L337.1969,305.2312 L337.1969,302.4499 L342.1188,302.4499 C342.275,302.4499 342.3844,302.3406 342.3844,302.1999 L342.3844,300.7312 C342.3844,300.5749 342.275,300.4812 342.1188,300.4812 L337.1969,300.4812 L337.1969,297.7781 L342.5094,297.7781 C342.6656,297.7781 342.7594,297.6843 342.7594,297.5281 L342.7594,296.0593 C342.7594,295.9187 342.6656,295.8093 342.5094,295.8093 L335.2438,295.8093 C335.0875,295.8093 334.9781,295.9187 334.9781,296.0593 L334.9781,306.9499 C334.9781,307.0906 335.0875,307.1999 335.2438,307.1999 L342.525,307.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="354.35" y="305.7639">ZswapImmediatelySpent</text><line style="stroke:#181818;stroke-width:0.5;" x1="317" x2="505" y1="317.1999" y2="317.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="322" y="334.1919">valueCom : ValueCommitment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="322" y="351.0478">proof : Proof</text><line style="stroke:#181818;stroke-width:0.5;" x1="317" x2="505" y1="358.9118" y2="358.9118"/></g><!--MD5=[916f4d94cabe5edec623d4e9f08ec2f9]
class PublicOutput--><g id="elem_PublicOutput"><rect codeLine="37" fill="#F1F1F1" height="132.2796" id="PublicOutput" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274" x="7" y="260.1999"/><ellipse cx="101.25" cy="276.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M105.125,282.1999 C105.2813,282.1999 105.375,282.0906 105.375,281.9499 L105.375,280.4812 C105.375,280.3249 105.2813,280.2312 105.125,280.2312 L99.7969,280.2312 L99.7969,277.4499 L104.7188,277.4499 C104.875,277.4499 104.9844,277.3406 104.9844,277.1999 L104.9844,275.7312 C104.9844,275.5749 104.875,275.4812 104.7188,275.4812 L99.7969,275.4812 L99.7969,272.7781 L105.1094,272.7781 C105.2656,272.7781 105.3594,272.6843 105.3594,272.5281 L105.3594,271.0593 C105.3594,270.9187 105.2656,270.8093 105.1094,270.8093 L97.8438,270.8093 C97.6875,270.8093 97.5781,270.9187 97.5781,271.0593 L97.5781,281.9499 C97.5781,282.0906 97.6875,282.1999 97.8438,282.1999 L105.125,282.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="121.75" y="280.7639">PublicOutput</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="280" y1="292.1999" y2="292.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="133" x="13" y="309.1919">funds sent to main chain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="13" y="326.0478">type : Type</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="13" y="342.9037">value : Value</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="13" y="359.7597">authorizedPk: ByteString</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="13" y="376.6156">authorizingCommitment : ValueCommitment</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="280" y1="384.4796" y2="384.4796"/></g><!--MD5=[cc27890e8876f0affbb57e86e63cb521]
class ContractCall--><g id="elem_ContractCall"><rect codeLine="45" fill="#F1F1F1" height="115.4237" id="ContractCall" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239" x="587.5" y="452.1999"/><ellipse cx="666.25" cy="468.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M670.125,474.1999 C670.2813,474.1999 670.375,474.0906 670.375,473.9499 L670.375,472.4812 C670.375,472.3249 670.2813,472.2312 670.125,472.2312 L664.7969,472.2312 L664.7969,469.4499 L669.7188,469.4499 C669.875,469.4499 669.9844,469.3406 669.9844,469.1999 L669.9844,467.7312 C669.9844,467.5749 669.875,467.4812 669.7188,467.4812 L664.7969,467.4812 L664.7969,464.7781 L670.1094,464.7781 C670.2656,464.7781 670.3594,464.6843 670.3594,464.5281 L670.3594,463.0593 C670.3594,462.9187 670.2656,462.8093 670.1094,462.8093 L662.8438,462.8093 C662.6875,462.8093 662.5781,462.9187 662.5781,463.0593 L662.5781,473.9499 C662.5781,474.0906 662.6875,474.1999 662.8438,474.1999 L670.125,474.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="686.75" y="472.7639">ContractCall</text><line style="stroke:#181818;stroke-width:0.5;" x1="588.5" x2="825.5" y1="484.1999" y2="484.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="593.5" y="501.1919">contract : Address «FK»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="593.5" y="518.0478">entryPoint : TransitionFunctionID «FK»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="593.5" y="534.9037">transcript : Vector&lt;OracleCall&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="593.5" y="551.7597">proof : Proof</text><line style="stroke:#181818;stroke-width:0.5;" x1="588.5" x2="825.5" y1="559.6236" y2="559.6236"/></g><!--MD5=[461026a38b737c4ce5e8254b9a577e21]
class Contract--><g id="elem_Contract"><rect codeLine="52" fill="#F1F1F1" height="132.2796" id="Contract" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="804" y="627.1999"/><ellipse cx="914.75" cy="643.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M918.625,649.1999 C918.7813,649.1999 918.875,649.0906 918.875,648.9499 L918.875,647.4812 C918.875,647.3249 918.7813,647.2312 918.625,647.2312 L913.2969,647.2312 L913.2969,644.4499 L918.2188,644.4499 C918.375,644.4499 918.4844,644.3406 918.4844,644.1999 L918.4844,642.7312 C918.4844,642.5749 918.375,642.4812 918.2188,642.4812 L913.2969,642.4812 L913.2969,639.7781 L918.6094,639.7781 C918.7656,639.7781 918.8594,639.6843 918.8594,639.5281 L918.8594,638.0593 C918.8594,637.9187 918.7656,637.8093 918.6094,637.8093 L911.3438,637.8093 C911.1875,637.8093 911.0781,637.9187 911.0781,638.0593 L911.0781,648.9499 C911.0781,649.0906 911.1875,649.1999 911.3438,649.1999 L918.625,649.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="935.25" y="647.7639">Contract</text><line style="stroke:#181818;stroke-width:0.5;" x1="805" x2="1083" y1="659.1999" y2="659.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="810" y="676.1919">address : Address «PK»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="810" y="693.0478">code : ByteString</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="810" y="709.9037">state : PublicState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="810" y="726.7597">dataCommitments : Vec&lt;ByteString&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268" x="810" y="743.6156">publicOracle : Map&lt;String, PublicOracleCode&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="805" x2="1083" y1="751.4796" y2="751.4796"/></g><!--MD5=[3bb9fe1b0d793c16f330caea4bde0f49]
class TransitionFunction--><g id="elem_TransitionFunction"><rect codeLine="60" fill="#F1F1F1" height="115.4237" id="TransitionFunction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="821.5" y="819.1999"/><ellipse cx="885.75" cy="835.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M889.625,841.1999 C889.7813,841.1999 889.875,841.0906 889.875,840.9499 L889.875,839.4812 C889.875,839.3249 889.7813,839.2312 889.625,839.2312 L884.2969,839.2312 L884.2969,836.4499 L889.2188,836.4499 C889.375,836.4499 889.4844,836.3406 889.4844,836.1999 L889.4844,834.7312 C889.4844,834.5749 889.375,834.4812 889.2188,834.4812 L884.2969,834.4812 L884.2969,831.7781 L889.6094,831.7781 C889.7656,831.7781 889.8594,831.6843 889.8594,831.5281 L889.8594,830.0593 C889.8594,829.9187 889.7656,829.8093 889.6094,829.8093 L882.3438,829.8093 C882.1875,829.8093 882.0781,829.9187 882.0781,830.0593 L882.0781,840.9499 C882.0781,841.0906 882.1875,841.1999 882.3438,841.1999 L889.625,841.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="906.25" y="839.7639">TransitionFunction</text><line style="stroke:#181818;stroke-width:0.5;" x1="822.5" x2="1065.5" y1="851.1999" y2="851.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="827.5" y="868.1919">id : TransitionFunctionID «PK»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="827.5" y="885.0478">intermediateRepresentation : ByteString</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="827.5" y="901.9037">vk : VerifyingKey</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="827.5" y="918.7597">pk : Maybe&lt;ProvingKey&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="822.5" x2="1065.5" y1="926.6236" y2="926.6236"/></g><!--MD5=[fa939eb6c911c1168faf7d0209b16904]
class ChainState--><g id="elem_ChainState"><rect codeLine="67" fill="#F1F1F1" height="98.5678" id="ChainState" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="925.5" y="93.1999"/><ellipse cx="970.25" cy="109.1999" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M974.125,115.1999 C974.2813,115.1999 974.375,115.0906 974.375,114.9499 L974.375,113.4812 C974.375,113.3249 974.2813,113.2312 974.125,113.2312 L968.7969,113.2312 L968.7969,110.4499 L973.7188,110.4499 C973.875,110.4499 973.9844,110.3406 973.9844,110.1999 L973.9844,108.7312 C973.9844,108.5749 973.875,108.4812 973.7188,108.4812 L968.7969,108.4812 L968.7969,105.7781 L974.1094,105.7781 C974.2656,105.7781 974.3594,105.6843 974.3594,105.5281 L974.3594,104.0593 C974.3594,103.9187 974.2656,103.8093 974.1094,103.8093 L966.8438,103.8093 C966.6875,103.8093 966.5781,103.9187 966.5781,104.0593 L966.5781,114.9499 C966.5781,115.0906 966.6875,115.1999 966.8438,115.1999 L974.125,115.1999 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="990.75" y="113.7639">ChainState</text><line style="stroke:#181818;stroke-width:0.5;" x1="926.5" x2="1085.5" y1="125.1999" y2="125.1999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="931.5" y="142.1919">notes: MerkleTree&lt;Note&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="931.5" y="159.0478">nullifiers: Set&lt;Nullifier&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="931.5" y="175.9037">merkleRoots: Set&lt;Field&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="926.5" x2="1085.5" y1="183.7677" y2="183.7677"/></g><!--MD5=[971ef2550f99bdd2c7e5e6b5ee7100db]
link ChainState to TransitionFunction--><g id="link_ChainState_TransitionFunction"><path codeLine="73" d="M1094.89,143.1999 C1094.89,143.1999 1104.5,143.1999 1104.5,143.1999 C1104.5,143.1999 1104.5,877.1999 1104.5,877.1999 C1104.5,877.1999 1074.87,877.1999 1074.87,877.1999 " fill="none" id="ChainState-TransitionFunction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1074.87" x2="1066.87" y1="877.1999" y2="883.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="1074.87" x2="1066.87" y1="877.1999" y2="871.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="1074.87" x2="1066.87" y1="877.1999" y2="877.1999"/><ellipse cx="1080.87" cy="877.1999" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1094.89" x2="1086.89" y1="143.1999" y2="149.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="1094.89" x2="1086.89" y1="143.1999" y2="137.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="1094.89" x2="1086.89" y1="143.1999" y2="143.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="1096.89" x2="1096.89" y1="147.1999" y2="139.1999"/></g><!--MD5=[d49d894d6cdae8372e134697c7145e4e]
link ChainState to Contract--><g id="link_ChainState_Contract"><path codeLine="74" d="M1055.5,200.5199 C1055.5,200.5199 1055.5,619.0499 1055.5,619.0499 " fill="none" id="ChainState-Contract" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055.5" x2="1061.5" y1="619.0499" y2="627.0499"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055.5" x2="1049.5" y1="619.0499" y2="627.0499"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055.5" x2="1055.5" y1="619.0499" y2="627.0499"/><ellipse cx="1055.5" cy="613.0499" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055.5" x2="1049.5" y1="200.5199" y2="192.5199"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055.5" x2="1061.5" y1="200.5199" y2="192.5199"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055.5" x2="1055.5" y1="200.5199" y2="192.5199"/><line style="stroke:#181818;stroke-width:1.0;" x1="1051.5" x2="1059.5" y1="202.5199" y2="202.5199"/></g><!--MD5=[78ee54e29fdece18f2afc71bed26a113]
link ChainState to ZswapInput--><g id="link_ChainState_ZswapInput"><path codeLine="75" d="M976.25,200.3599 C976.25,200.3599 976.25,260.3699 976.25,260.3699 " fill="none" id="ChainState-ZswapInput" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="976.25" x2="982.25" y1="260.3699" y2="268.3699"/><line style="stroke:#181818;stroke-width:1.0;" x1="976.25" x2="970.25" y1="260.3699" y2="268.3699"/><line style="stroke:#181818;stroke-width:1.0;" x1="976.25" x2="976.25" y1="260.3699" y2="268.3699"/><ellipse cx="976.25" cy="254.3699" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="976.25" x2="970.25" y1="200.3599" y2="192.3599"/><line style="stroke:#181818;stroke-width:1.0;" x1="976.25" x2="982.25" y1="200.3599" y2="192.3599"/><line style="stroke:#181818;stroke-width:1.0;" x1="976.25" x2="976.25" y1="200.3599" y2="192.3599"/><line style="stroke:#181818;stroke-width:1.0;" x1="972.25" x2="980.25" y1="202.3599" y2="202.3599"/></g><!--MD5=[b092780e6c2e435575d3542135c54bb4]
link ChainState to ZswapOutput--><g id="link_ChainState_ZswapOutput"><path codeLine="76" d="M917.47,143.1999 C917.47,143.1999 753.67,143.1999 753.67,143.1999 C753.67,143.1999 753.67,260.5499 753.67,260.5499 " fill="none" id="ChainState-ZswapOutput" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.67" x2="759.67" y1="260.5499" y2="268.5499"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.67" x2="747.67" y1="260.5499" y2="268.5499"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.67" x2="753.67" y1="260.5499" y2="268.5499"/><ellipse cx="753.67" cy="254.5499" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="917.47" x2="925.47" y1="143.1999" y2="137.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="917.47" x2="925.47" y1="143.1999" y2="149.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="917.47" x2="925.47" y1="143.1999" y2="143.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="915.47" x2="915.47" y1="139.1999" y2="147.1999"/></g><!--MD5=[50f132bad18b91033c277e3d81961dbd]
link Contract to TransitionFunction--><g id="link_Contract_TransitionFunction"><path codeLine="77" d="M944,767.4499 C944,767.4499 944,811.0499 944,811.0499 " fill="none" id="Contract-TransitionFunction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="950" y1="811.0499" y2="819.0499"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="938" y1="811.0499" y2="819.0499"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="944" y1="811.0499" y2="819.0499"/><line style="stroke:#181818;stroke-width:1.0;" x1="948" x2="940" y1="809.0499" y2="809.0499"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="938" y1="767.4499" y2="759.4499"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="950" y1="767.4499" y2="759.4499"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="944" y1="767.4499" y2="759.4499"/><ellipse cx="944" cy="773.4499" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[768dc7027418220b6f0ab505c1e44be2]
link ContractCall to Contract--><g id="link_ContractCall_Contract"><path codeLine="78" d="M811.5,575.2599 C811.5,575.2599 811.5,618.8799 811.5,618.8799 " fill="none" id="ContractCall-Contract" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.5" x2="807.5" y1="622.8799" y2="622.8799"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.5" x2="807.5" y1="619.8799" y2="619.8799"/><line style="stroke:#181818;stroke-width:1.0;" x1="811.5" x2="811.5" y1="618.8799" y2="626.8799"/><line style="stroke:#181818;stroke-width:1.0;" x1="811.5" x2="805.5" y1="575.2599" y2="567.2599"/><line style="stroke:#181818;stroke-width:1.0;" x1="811.5" x2="817.5" y1="575.2599" y2="567.2599"/><line style="stroke:#181818;stroke-width:1.0;" x1="811.5" x2="811.5" y1="575.2599" y2="567.2599"/><ellipse cx="811.5" cy="581.2599" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6c0be41394277d6397bf1ca1d3d83137]
link ContractCall to TransitionFunction--><g id="link_ContractCall_TransitionFunction"><path codeLine="79" d="M695.75,575.5299 C695.75,575.5299 695.75,877.1999 695.75,877.1999 C695.75,877.1999 813.33,877.1999 813.33,877.1999 " fill="none" id="ContractCall-TransitionFunction" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="817.33" x2="817.33" y1="873.1999" y2="881.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="814.33" x2="814.33" y1="873.1999" y2="881.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="813.33" x2="821.33" y1="877.1999" y2="877.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="695.75" x2="689.75" y1="575.5299" y2="567.5299"/><line style="stroke:#181818;stroke-width:1.0;" x1="695.75" x2="701.75" y1="575.5299" y2="567.5299"/><line style="stroke:#181818;stroke-width:1.0;" x1="695.75" x2="695.75" y1="575.5299" y2="567.5299"/><ellipse cx="695.75" cy="581.5299" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e8100407711028fa912b9a6221ca8c01]
link Transaction to Transaction--><g id="link_Transaction_Transaction"><path codeLine="80" d="M559,77.0899 C559,77.0899 559,67.1999 559,67.1999 C559,67.1999 705.33,67.1999 705.33,67.1999 C705.33,67.1999 705.33,230.1999 705.33,230.1999 C705.33,230.1999 642,230.1999 642,230.1999 C642,230.1999 642,208.5799 642,208.5799 " fill="none" id="Transaction-Transaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="642" x2="636" y1="208.5799" y2="200.5799"/><line style="stroke:#181818;stroke-width:1.0;" x1="642" x2="648" y1="208.5799" y2="200.5799"/><line style="stroke:#181818;stroke-width:1.0;" x1="642" x2="642" y1="208.5799" y2="200.5799"/><line style="stroke:#181818;stroke-width:1.0;" x1="638" x2="646" y1="210.5799" y2="210.5799"/><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="559" y1="74.0899" y2="85.0899"/><ellipse cx="559" cy="74.0899" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="555" y1="81.0899" y2="81.0899"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="662.33" y="104.134">merges</text></g><!--MD5=[795cb5d757abccd1a6aa34effcd092ae]
link Transaction to ZswapOutput--><g id="link_Transaction_ZswapOutput"><path codeLine="81" d="M627,208.2599 C627,208.2599 627,260.5299 627,260.5299 " fill="none" id="Transaction-ZswapOutput" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="633" y1="260.5299" y2="268.5299"/><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="621" y1="260.5299" y2="268.5299"/><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="627" y1="260.5299" y2="268.5299"/><ellipse cx="627" cy="254.5299" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="621" y1="208.2599" y2="200.2599"/><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="633" y1="208.2599" y2="200.2599"/><line style="stroke:#181818;stroke-width:1.0;" x1="627" x2="627" y1="208.2599" y2="200.2599"/><ellipse cx="627" cy="214.2599" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[73458502de01b8a72cbc2f6c31f767ac]
link Transaction to ZswapInput--><g id="link_Transaction_ZswapInput"><path codeLine="82" d="M665.44,196.1999 C665.44,196.1999 881.25,196.1999 881.25,196.1999 C881.25,196.1999 881.25,260.4199 881.25,260.4199 " fill="none" id="Transaction-ZswapInput" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.25" x2="887.25" y1="260.4199" y2="268.4199"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.25" x2="875.25" y1="260.4199" y2="268.4199"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.25" x2="881.25" y1="260.4199" y2="268.4199"/><ellipse cx="881.25" cy="254.4199" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="665.44" x2="657.44" y1="196.1999" y2="202.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="665.44" x2="657.44" y1="196.1999" y2="190.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="665.44" x2="657.44" y1="196.1999" y2="196.1999"/><ellipse cx="671.44" cy="196.1999" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[79446427230148bd83bad6e2cc60b743]
link Transaction to ZswapImmediatelySpent--><g id="link_Transaction_ZswapImmediatelySpent"><path codeLine="83" d="M491,208.2599 C491,208.2599 491,277.1399 491,277.1399 " fill="none" id="Transaction-ZswapImmediatelySpent" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="497" y1="277.1399" y2="285.1399"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="485" y1="277.1399" y2="285.1399"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="491" y1="277.1399" y2="285.1399"/><ellipse cx="491" cy="271.1399" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="485" y1="208.2599" y2="200.2599"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="497" y1="208.2599" y2="200.2599"/><line style="stroke:#181818;stroke-width:1.0;" x1="491" x2="491" y1="208.2599" y2="200.2599"/><ellipse cx="491" cy="214.2599" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2608eb025d08eab4ff619469e8f132a8]
link Transaction to ContractCall--><g id="link_Transaction_ContractCall"><path codeLine="84" d="M605.88,208.4499 C605.88,208.4499 605.88,443.9899 605.88,443.9899 " fill="none" id="Transaction-ContractCall" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.88" x2="611.88" y1="443.9899" y2="451.9899"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.88" x2="599.88" y1="443.9899" y2="451.9899"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.88" x2="605.88" y1="443.9899" y2="451.9899"/><ellipse cx="605.88" cy="437.9899" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.88" x2="599.88" y1="208.4499" y2="200.4499"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.88" x2="611.88" y1="208.4499" y2="200.4499"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.88" x2="605.88" y1="208.4499" y2="200.4499"/><ellipse cx="605.88" cy="214.4499" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7a81f54931cb5bac2888ff7c7b04bf3b]
link Transaction to PublicOutput--><g id="link_Transaction_PublicOutput"><path codeLine="85" d="M476,208.3599 C476,208.3599 476,265.1999 476,265.1999 C476,265.1999 289.43,265.1999 289.43,265.1999 " fill="none" id="Transaction-PublicOutput" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.43" x2="281.43" y1="265.1999" y2="271.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.43" x2="281.43" y1="265.1999" y2="259.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.43" x2="281.43" y1="265.1999" y2="265.1999"/><ellipse cx="295.43" cy="265.1999" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="476" x2="470" y1="208.3599" y2="200.3599"/><line style="stroke:#181818;stroke-width:1.0;" x1="476" x2="482" y1="208.3599" y2="200.3599"/><line style="stroke:#181818;stroke-width:1.0;" x1="476" x2="476" y1="208.3599" y2="200.3599"/><ellipse cx="476" cy="214.3599" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[22fd0c6f2f9b771cce078606e8627f62]
link ZswapOutput to ContractCall--><g id="link_ZswapOutput_ContractCall"><path codeLine="86" d="M707,391.7599 C707,391.7599 707,444.0299 707,444.0299 " fill="none" id="ZswapOutput-ContractCall" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="707" y1="441.0299" y2="452.0299"/><ellipse cx="707" cy="441.0299" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="711" x2="703" y1="448.0299" y2="448.0299"/><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="701" y1="391.7599" y2="383.7599"/><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="713" y1="391.7599" y2="383.7599"/><line style="stroke:#181818;stroke-width:1.0;" x1="707" x2="707" y1="391.7599" y2="383.7599"/><ellipse cx="707" cy="397.7599" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="653" y="413.954">output to</text></g><!--MD5=[b0f8d2fb8559a95da49dfa4e3f453367]
link ZswapInput to ContractCall--><g id="link_ZswapInput_ContractCall"><path codeLine="87" d="M828.9,326.1999 C828.9,326.1999 810.17,326.1999 810.17,326.1999 C810.17,326.1999 810.17,444.1399 810.17,444.1399 " fill="none" id="ZswapInput-ContractCall" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="810.17" x2="810.17" y1="441.1399" y2="452.1399"/><ellipse cx="810.17" cy="441.1399" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="814.17" x2="806.17" y1="448.1399" y2="448.1399"/><line style="stroke:#181818;stroke-width:1.0;" x1="828.9" x2="836.9" y1="326.1999" y2="320.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="828.9" x2="836.9" y1="326.1999" y2="332.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="828.9" x2="836.9" y1="326.1999" y2="326.1999"/><ellipse cx="822.9" cy="326.1999" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="772.17" y="388.864">obtained from</text></g><!--MD5=[408d1aff52afc90b62dad449f7853e7e]
link ZswapImmediatelySpent to ContractCall--><g id="link_ZswapImmediatelySpent_ContractCall"><path codeLine="88" d="M514.2,313.1999 C514.2,313.1999 599.75,313.1999 599.75,313.1999 C599.75,313.1999 599.75,444.0699 599.75,444.0699 " fill="none" id="ZswapImmediatelySpent-ContractCall" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="603.75" x2="595.75" y1="448.0699" y2="448.0699"/><line style="stroke:#181818;stroke-width:1.0;" x1="603.75" x2="595.75" y1="445.0699" y2="445.0699"/><line style="stroke:#181818;stroke-width:1.0;" x1="599.75" x2="599.75" y1="444.0699" y2="452.0699"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.2" x2="506.2" y1="313.1999" y2="319.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.2" x2="506.2" y1="313.1999" y2="307.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.2" x2="506.2" y1="313.1999" y2="313.1999"/><ellipse cx="520.2" cy="313.1999" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="545.75" y="331.924">output to</text></g><!--MD5=[408d1aff52afc90b62dad449f7853e7e]
link ZswapImmediatelySpent to ContractCall--><g id="link_ZswapImmediatelySpent_ContractCall"><path codeLine="89" d="M514.06,340.1999 C514.06,340.1999 593.62,340.1999 593.62,340.1999 C593.62,340.1999 593.62,443.8399 593.62,443.8399 " fill="none" id="ZswapImmediatelySpent-ContractCall-1" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.62" x2="589.62" y1="447.8399" y2="447.8399"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.62" x2="589.62" y1="444.8399" y2="444.8399"/><line style="stroke:#181818;stroke-width:1.0;" x1="593.62" x2="593.62" y1="443.8399" y2="451.8399"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.06" x2="506.06" y1="340.1999" y2="346.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.06" x2="506.06" y1="340.1999" y2="334.1999"/><line style="stroke:#181818;stroke-width:1.0;" x1="514.06" x2="506.06" y1="340.1999" y2="340.1999"/><ellipse cx="520.06" cy="340.1999" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="516.62" y="348.304">obtained from</text></g><!--MD5=[8fb16a6ebc952f1f22ea48542a009699]
link ContractCall to ContractCall--><g id="link_ContractCall_ContractCall"><path codeLine="90" d="M818.33,443.8199 C818.33,443.8199 818.33,422.1999 818.33,422.1999 C818.33,422.1999 831.75,422.1999 831.75,422.1999 C831.75,422.1999 831.75,597.1999 831.75,597.1999 C831.75,597.1999 819,597.1999 819,597.1999 C819,597.1999 819,575.5799 819,575.5799 " fill="none" id="ContractCall-ContractCall" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="819" x2="813" y1="575.5799" y2="567.5799"/><line style="stroke:#181818;stroke-width:1.0;" x1="819" x2="825" y1="575.5799" y2="567.5799"/><line style="stroke:#181818;stroke-width:1.0;" x1="819" x2="819" y1="575.5799" y2="567.5799"/><ellipse cx="819" cy="581.5799" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="818.33" x2="818.33" y1="440.8199" y2="451.8199"/><ellipse cx="818.33" cy="440.8199" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="822.33" x2="814.33" y1="447.8199" y2="447.8199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="837.75" y="500.434">invokes</text></g><rect height="48.16" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="189" x="454.25" y="940.6236"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2" x="547.75" y="949.9036"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2" x="547.75" y="961.9436"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="2" x="547.75" y="973.9836"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="189" x="454.25" y="986.0236">Copyright 2022, Input Output Hong Kong, Ltd.</text><!--MD5=[3ad910b58757fdb2d731042f6c7e1012]
@startuml

header %filename()\n%date("yyyy.MM.dd' at 'HH:mm z")\n\n\n

footer \n\n\nCopyright %date("yyyy"), Input Output Hong Kong, Ltd.

skinparam linetype ortho

entity Transaction {
  hash : TransactionHash <<PK>>
  bindingRandomness : Field
  publicValues : Set<Type, Value>
  - -
  validate : Bool
}

entity ZswapOutput {
  coinNote : Note
  valueCom : ValueCommitment
  message : ByteString
  proof : Proof
}

entity ZswapInput {
  merkleRoot : Field
  nullifier: Nullifier
  valueCom : ValueCommitment
  proof : Proof
}

entity ZswapImmediatelySpent {
  valueCom : ValueCommitment
  proof : Proof
}

entity PublicOutput {
  //funds sent to main chain//
  type : Type
  value : Value
  authorizedPk: ByteString
  authorizingCommitment : ValueCommitment
}

entity ContractCall {
  contract : Address <<FK>>
  entryPoint : TransitionFunctionID <<FK>>
  transcript : Vector<OracleCall>
  proof : Proof
}

entity Contract {
  address : Address <<PK>>
  code : ByteString
  state : PublicState
  dataCommitments : Vec<ByteString>
  publicOracle : Map<String, PublicOracleCode>
}

entity TransitionFunction {
  id : TransitionFunctionID <<PK>>
  intermediateRepresentation : ByteString
  vk : VerifyingKey
  pk : Maybe<ProvingKey>
}

entity ChainState {
  notes: MerkleTree<Note>
  nullifiers: Set<Nullifier>
  merkleRoots: Set<Field>
}

ChainState }|- -o{ TransitionFunction
ChainState }|- -o{ Contract
ChainState }|..o{ ZswapInput
ChainState }|..o{ ZswapOutput
Contract }o- -|{ TransitionFunction
ContractCall }o..|| Contract
ContractCall }o..|| TransitionFunction
Transaction  |o- -|{ Transaction : "merges"
Transaction  }o- -o{ ZswapOutput
Transaction  }o- -o{ ZswapInput
Transaction  }o- -o{ ZswapImmediatelySpent
Transaction  }o- -o{ ContractCall
Transaction  }o- -o{ PublicOutput
ZswapOutput  }o..o| ContractCall : "output to"
ZswapInput   }o..o| ContractCall : "obtained from"
ZswapImmediatelySpent }o..|| ContractCall : "output to"
ZswapImmediatelySpent }o..|| ContractCall : "obtained from"
ContractCall |o..o{ ContractCall : "invokes"



@enduml

@startuml

header datamodel.puml\n2022.06.15 at 17:53 BST\n\n\n

footer \n\n\nCopyright 2022, Input Output Hong Kong, Ltd.

skinparam linetype ortho

entity Transaction {
  hash : TransactionHash <<PK>>
  bindingRandomness : Field
  publicValues : Set<Type, Value>
  - -
  validate : Bool
}

entity ZswapOutput {
  coinNote : Note
  valueCom : ValueCommitment
  message : ByteString
  proof : Proof
}

entity ZswapInput {
  merkleRoot : Field
  nullifier: Nullifier
  valueCom : ValueCommitment
  proof : Proof
}

entity ZswapImmediatelySpent {
  valueCom : ValueCommitment
  proof : Proof
}

entity PublicOutput {
  //funds sent to main chain//
  type : Type
  value : Value
  authorizedPk: ByteString
  authorizingCommitment : ValueCommitment
}

entity ContractCall {
  contract : Address <<FK>>
  entryPoint : TransitionFunctionID <<FK>>
  transcript : Vector<OracleCall>
  proof : Proof
}

entity Contract {
  address : Address <<PK>>
  code : ByteString
  state : PublicState
  dataCommitments : Vec<ByteString>
  publicOracle : Map<String, PublicOracleCode>
}

entity TransitionFunction {
  id : TransitionFunctionID <<PK>>
  intermediateRepresentation : ByteString
  vk : VerifyingKey
  pk : Maybe<ProvingKey>
}

entity ChainState {
  notes: MerkleTree<Note>
  nullifiers: Set<Nullifier>
  merkleRoots: Set<Field>
}

ChainState }|- -o{ TransitionFunction
ChainState }|- -o{ Contract
ChainState }|..o{ ZswapInput
ChainState }|..o{ ZswapOutput
Contract }o- -|{ TransitionFunction
ContractCall }o..|| Contract
ContractCall }o..|| TransitionFunction
Transaction  |o- -|{ Transaction : "merges"
Transaction  }o- -o{ ZswapOutput
Transaction  }o- -o{ ZswapInput
Transaction  }o- -o{ ZswapImmediatelySpent
Transaction  }o- -o{ ContractCall
Transaction  }o- -o{ PublicOutput
ZswapOutput  }o..o| ContractCall : "output to"
ZswapInput   }o..o| ContractCall : "obtained from"
ZswapImmediatelySpent }o..|| ContractCall : "output to"
ZswapImmediatelySpent }o..|| ContractCall : "obtained from"
ContractCall |o..o{ ContractCall : "invokes"



@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>