<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="939px" preserveAspectRatio="none" style="width:839px;height:939px;background:#FFFFFF;" version="1.1" viewBox="0 0 839 939" width="839px" zoomAndPan="magnify"><defs/><g><!--MD5=[2bb3ae8521833b2439d654d03182b239]
class EncryptedPrivateKey--><g id="elem_EncryptedPrivateKey"><rect codeLine="2" fill="#F1F1F1" height="48" id="EncryptedPrivateKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="154" y="775"/><ellipse cx="169" cy="791" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M173.1143,797 L165.3945,797 L165.3945,784.6069 L173.1143,784.6069 L173.1143,786.7651 L167.8433,786.7651 L167.8433,789.438 L172.6162,789.438 L172.6162,791.5962 L167.8433,791.5962 L167.8433,794.8418 L173.1143,794.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="183" y="796.291">EncryptedPrivateKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="323" y1="807" y2="807"/><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="323" y1="815" y2="815"/></g><!--MD5=[b43eda3cf1795c310d0fc3c6dcee7a72]
class ViewingKey--><g id="elem_ViewingKey"><rect codeLine="3" fill="#F1F1F1" height="48" id="ViewingKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="7" y="666"/><ellipse cx="22" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M26.1143,688 L18.3945,688 L18.3945,675.6069 L26.1143,675.6069 L26.1143,677.7651 L20.8433,677.7651 L20.8433,680.438 L25.6162,680.438 L25.6162,682.5962 L20.8433,682.5962 L20.8433,685.8418 L26.1143,685.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="36" y="687.291">ViewingKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="706" y2="706"/></g><!--MD5=[c6d153f9551dd3a00861177ea9d737c1]
class KeyStore--><g id="elem_KeyStore"><rect codeLine="6" fill="#F1F1F1" height="48" id="KeyStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="193" y="666"/><ellipse cx="208" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M212.1143,688 L204.3945,688 L204.3945,675.6069 L212.1143,675.6069 L212.1143,677.7651 L206.8433,677.7651 L206.8433,680.438 L211.6162,680.438 L211.6162,682.5962 L206.8433,682.5962 L206.8433,685.8418 L212.1143,685.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="222" y="687.291">KeyStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="284" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="284" y1="706" y2="706"/></g><!--MD5=[79593acfb0305ecf9e101e13abf886b9]
class KeyChain--><g id="elem_KeyChain"><rect codeLine="7" fill="#F1F1F1" height="48" id="KeyChain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="187" y="541"/><ellipse cx="202" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M206.1143,563 L198.3945,563 L198.3945,550.6069 L206.1143,550.6069 L206.1143,552.7651 L200.8433,552.7651 L200.8433,555.438 L205.6162,555.438 L205.6162,557.5962 L200.8433,557.5962 L200.8433,560.8418 L206.1143,560.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="216" y="562.291">KeyChain</text><line style="stroke:#181818;stroke-width:0.5;" x1="188" x2="282" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="188" x2="282" y1="581" y2="581"/></g><!--MD5=[2a04af076941991142dd6447ef7c8ea1]
class RelevantTxFilter--><g id="elem_RelevantTxFilter"><rect codeLine="8" fill="#F1F1F1" height="64.4883" id="RelevantTxFilter" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="279" y="375"/><ellipse cx="319.65" cy="391" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M323.7643,397 L316.0445,397 L316.0445,384.6069 L323.7643,384.6069 L323.7643,386.7651 L318.4933,386.7651 L318.4933,389.438 L323.2662,389.438 L323.2662,391.5962 L318.4933,391.5962 L318.4933,394.8418 L323.7643,394.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="339.35" y="396.291">RelevantTxFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="280" x2="478" y1="407" y2="407"/><ellipse cx="290" cy="418" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="299" y="424.5352">filterDefinition: Definition</text><line style="stroke:#181818;stroke-width:0.5;" x1="280" x2="478" y1="431.4883" y2="431.4883"/></g><!--MD5=[2b385e3ef8f615e58d4080ccd927babc]
class SyncBlock--><g id="elem_SyncBlock"><rect codeLine="11" fill="#F1F1F1" height="48" id="SyncBlock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="381.5" y="666"/><ellipse cx="396.5" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M400.6143,688 L392.8945,688 L392.8945,675.6069 L400.6143,675.6069 L400.6143,677.7651 L395.3433,677.7651 L395.3433,680.438 L400.1162,680.438 L400.1162,682.5962 L395.3433,682.5962 L395.3433,685.8418 L400.6143,685.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="410.5" y="687.291">SyncBlock</text><line style="stroke:#181818;stroke-width:0.5;" x1="382.5" x2="479.5" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="382.5" x2="479.5" y1="706" y2="706"/></g><!--MD5=[aaa82ee819e409c7f47a0f1375d8e1e8]
class SyncTransaction--><g id="elem_SyncTransaction"><rect codeLine="12" fill="#F1F1F1" height="48" id="SyncTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="359" y="541"/><ellipse cx="374" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M378.1143,563 L370.3945,563 L370.3945,550.6069 L378.1143,550.6069 L378.1143,552.7651 L372.8433,552.7651 L372.8433,555.438 L377.6162,555.438 L377.6162,557.5962 L372.8433,557.5962 L372.8433,560.8418 L378.1143,560.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="388" y="562.291">SyncTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="360" x2="502" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="360" x2="502" y1="581" y2="581"/></g><!--MD5=[0164bdab82738efd25435ed1b870118f]
class RelevantTransaction--><g id="elem_RelevantTransaction"><rect codeLine="13" fill="#F1F1F1" height="48" id="RelevantTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="521.5" y="666"/><ellipse cx="536.5" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M540.6143,688 L532.8945,688 L532.8945,675.6069 L540.6143,675.6069 L540.6143,677.7651 L535.3433,677.7651 L535.3433,680.438 L540.1162,680.438 L540.1162,682.5962 L535.3433,682.5962 L535.3433,685.8418 L540.6143,685.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="550.5" y="687.291">RelevantTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="522.5" x2="691.5" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="522.5" x2="691.5" y1="706" y2="706"/></g><!--MD5=[4899691ac04b654407999835b9998e46]
class TransactionHistory--><g id="elem_TransactionHistory"><rect codeLine="14" fill="#F1F1F1" height="48" id="TransactionHistory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="540.5" y="541"/><ellipse cx="555.5" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M559.6143,563 L551.8945,563 L551.8945,550.6069 L559.6143,550.6069 L559.6143,552.7651 L554.3433,552.7651 L554.3433,555.438 L559.1162,555.438 L559.1162,557.5962 L554.3433,557.5962 L554.3433,560.8418 L559.6143,560.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="569.5" y="562.291">TransactionHistory</text><line style="stroke:#181818;stroke-width:0.5;" x1="541.5" x2="700.5" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="541.5" x2="700.5" y1="581" y2="581"/></g><!--MD5=[43c3931aad95f43f65e651b4a617536c]
class DAppConnection--><g id="elem_DAppConnection"><rect codeLine="15" fill="#F1F1F1" height="48" id="DAppConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="304.5" y="7"/><ellipse cx="319.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M323.6143,29 L315.8945,29 L315.8945,16.6069 L323.6143,16.6069 L323.6143,18.7651 L318.3433,18.7651 L318.3433,21.438 L323.1162,21.438 L323.1162,23.5962 L318.3433,23.5962 L318.3433,26.8418 L323.6143,26.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="333.5" y="28.291">DAppConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="305.5" x2="452.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="305.5" x2="452.5" y1="47" y2="47"/></g><!--MD5=[55535a83c097026635c1692abc1750d2]
class SyncConnection--><g id="elem_SyncConnection"><rect codeLine="16" fill="#F1F1F1" height="48" id="SyncConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="360" y="775"/><ellipse cx="375" cy="791" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M370.9277,786.7651 L370.9277,784.6069 L378.3071,784.6069 L378.3071,786.7651 L375.8418,786.7651 L375.8418,794.8418 L378.3071,794.8418 L378.3071,797 L370.9277,797 L370.9277,794.8418 L373.3931,794.8418 L373.3931,786.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="110" x="389" y="796.291">SyncConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="361" x2="501" y1="807" y2="807"/><line style="stroke:#181818;stroke-width:0.5;" x1="361" x2="501" y1="815" y2="815"/></g><!--MD5=[deb3a582903b940fb493d0df4fa00845]
class WalletBackendConnection--><g id="elem_WalletBackendConnection"><rect codeLine="17" fill="#F1F1F1" height="48" id="WalletBackendConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="219.5" y="884"/><ellipse cx="234.5" cy="900" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M238.6143,906 L230.8945,906 L230.8945,893.6069 L238.6143,893.6069 L238.6143,895.7651 L233.3433,895.7651 L233.3433,898.438 L238.1162,898.438 L238.1162,900.5962 L233.3433,900.5962 L233.3433,903.8418 L238.6143,903.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="248.5" y="905.291">WalletBackendConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="220.5" x2="427.5" y1="916" y2="916"/><line style="stroke:#181818;stroke-width:0.5;" x1="220.5" x2="427.5" y1="924" y2="924"/></g><!--MD5=[f2a04ac64d05db282901c06a4ada9ec8]
class NodeConnection--><g id="elem_NodeConnection"><rect codeLine="18" fill="#F1F1F1" height="48" id="NodeConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="463.5" y="884"/><ellipse cx="478.5" cy="900" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M482.6143,906 L474.8945,906 L474.8945,893.6069 L482.6143,893.6069 L482.6143,895.7651 L477.3433,895.7651 L477.3433,898.438 L482.1162,898.438 L482.1162,900.5962 L477.3433,900.5962 L477.3433,903.8418 L482.6143,903.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="492.5" y="905.291">NodeConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="464.5" x2="609.5" y1="916" y2="916"/><line style="stroke:#181818;stroke-width:0.5;" x1="464.5" x2="609.5" y1="924" y2="924"/></g><!--MD5=[f18cbbd586a3bb29b8d64278e80b7c4d]
class StateSnapshot--><g id="elem_StateSnapshot"><rect codeLine="19" fill="#F1F1F1" height="113.9531" id="StateSnapshot" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="514.5" y="350"/><ellipse cx="569.75" cy="366" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M573.8643,372 L566.1445,372 L566.1445,359.6069 L573.8643,359.6069 L573.8643,361.7651 L568.5933,361.7651 L568.5933,364.438 L573.3662,364.438 L573.3662,366.5962 L568.5933,366.5962 L568.5933,369.8418 L573.8643,369.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="590.25" y="371.291">StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="515.5" x2="730.5" y1="382" y2="382"/><ellipse cx="525.5" cy="393" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="534.5" y="399.5352">newEvents: WalletEvent</text><ellipse cx="525.5" cy="409.4883" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="534.5" y="416.0234">derivedState : DerivedState</text><ellipse cx="525.5" cy="425.9766" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="534.5" y="432.5117">knownAddresses: Address[]</text><ellipse cx="525.5" cy="442.4648" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="534.5" y="449">balance: Balance</text><line style="stroke:#181818;stroke-width:0.5;" x1="515.5" x2="730.5" y1="455.9531" y2="455.9531"/></g><!--MD5=[869bf22e92cfa91ce7666e532000f6dd]
class WalletAPI--><g id="elem_WalletAPI"><rect codeLine="25" fill="#F1F1F1" height="48" id="WalletAPI" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="331.5" y="116"/><ellipse cx="346.5" cy="132" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M342.4277,127.7651 L342.4277,125.6069 L349.8071,125.6069 L349.8071,127.7651 L347.3418,127.7651 L347.3418,135.8418 L349.8071,135.8418 L349.8071,138 L342.4277,138 L342.4277,135.8418 L344.8931,135.8418 L344.8931,127.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="63" x="360.5" y="137.291">WalletAPI</text><line style="stroke:#181818;stroke-width:0.5;" x1="332.5" x2="425.5" y1="148" y2="148"/><line style="stroke:#181818;stroke-width:0.5;" x1="332.5" x2="425.5" y1="156" y2="156"/></g><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><g id="elem_Wallet"><rect codeLine="26" fill="#F1F1F1" height="64.4883" id="Wallet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="269" y="225"/><ellipse cx="354.25" cy="241" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M358.3643,247 L350.6445,247 L350.6445,234.6069 L358.3643,234.6069 L358.3643,236.7651 L353.0933,236.7651 L353.0933,239.438 L357.8662,239.438 L357.8662,241.5962 L353.0933,241.5962 L353.0933,244.8418 L358.3643,244.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="374.75" y="246.291">Wallet</text><line style="stroke:#181818;stroke-width:0.5;" x1="270" x2="488" y1="257" y2="257"/><ellipse cx="280" cy="268" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="289" y="274.5352">lastSnapshot: StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="270" x2="488" y1="281.4883" y2="281.4883"/></g><!--MD5=[b349b2c4b3fcbf6e99af8ef3754148f6]
reverse link WalletAPI to Wallet--><g id="link_WalletAPI_Wallet"><path codeLine="29" d="M379,184.64 C379,198.04 379,212.52 379,224.91 " fill="none" id="WalletAPI-backto-Wallet" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="372,184.27,379,164.27,386,184.27,372,184.27" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a4e4d8ff56731b9cc6b70ddca056ea7b]
link Wallet to StateSnapshot--><g id="link_Wallet_StateSnapshot"><path codeLine="31" d="M437.11,293.25 C462.95,308.92 494.12,327.83 523.49,345.64 " fill="none" id="Wallet-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="523.6728" x2="533.6253" y1="345.7463" y2="344.7721"/><line style="stroke:#181818;stroke-width:1.0;" x1="523.6728" x2="527.3947" y1="345.7463" y2="355.0279"/><line style="stroke:#181818;stroke-width:1.0;" x1="523.6728" x2="530.51" y1="345.7463" y2="349.9"/><line style="stroke:#181818;stroke-width:1.0;" x1="524.0404" x2="519.8867" y1="341.2893" y2="348.1265"/><line style="stroke:#181818;stroke-width:1.0;" x1="431.5001" x2="435.6434" y1="294.5234" y2="287.6799"/><line style="stroke:#181818;stroke-width:1.0;" x1="434.0664" x2="438.2097" y1="296.0771" y2="289.2336"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.9935" x2="430.15" y1="293.1732" y2="289.03"/></g><!--MD5=[f4aaeb60564af7e2b0ee51d26ab97764]
link Wallet to KeyChain--><g id="link_Wallet_KeyChain"><path codeLine="32" d="M315.82,293.22 C295.01,308.02 273.92,327.16 261,350 C227.99,408.36 228.45,489.83 231.7,533.49 " fill="none" id="Wallet-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.9406" x2="227.9672" y1="536.3672" y2="537.0194"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.696" x2="227.7226" y1="533.3772" y2="534.0294"/><line style="stroke:#181818;stroke-width:1.0;" x1="231.6278" x2="232.28" y1="532.7066" y2="540.68"/><line style="stroke:#181818;stroke-width:1.0;" x1="316.1032" x2="320.6645" y1="288.1545" y2="294.7268"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.6386" x2="318.2" y1="289.865" y2="296.4373"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.0978" x2="321.67" y1="293.7213" y2="289.16"/></g><!--MD5=[eac7d97cbb1d1f5ca7d64b87306b5bd1]
link Wallet to RelevantTxFilter--><g id="link_Wallet_RelevantTxFilter"><path codeLine="33" d="M379,297.31 C379,318.7 379,345.09 379,366.52 " fill="none" id="Wallet-RelevantTxFilter" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="385" y1="366.76" y2="374.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="373" y1="366.76" y2="374.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="366.76" y2="374.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="375" y1="364.76" y2="364.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="375" x2="383" y1="293.03" y2="293.03"/><line style="stroke:#181818;stroke-width:1.0;" x1="375" x2="383" y1="296.03" y2="296.03"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="297.03" y2="289.03"/></g><!--MD5=[57bb2d1dd60281233820eafac1c03891]
link StateSnapshot to TransactionHistory--><g id="link_StateSnapshot_TransactionHistory"><path codeLine="35" d="M622.17,472.45 C621.91,493.25 621.62,515.39 621.4,532.68 " fill="none" id="StateSnapshot-TransactionHistory" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.3497" x2="617.3503" y1="536.8003" y2="536.7003"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.3872" x2="617.3878" y1="533.8005" y2="533.7006"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.4" x2="621.3" y1="532.7506" y2="540.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.18" x2="616.2805" y1="472.3194" y2="464.245"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.18" x2="628.2795" y1="472.3194" y2="464.395"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.18" x2="622.28" y1="472.3194" y2="464.32"/><line style="stroke:#181818;stroke-width:1.0;" x1="618.1553" x2="626.1547" y1="474.2692" y2="474.3692"/></g><!--MD5=[c4f3e82f27b32a11313cf9a67f530cbb]
link StateSnapshot to StateSnapshot--><g id="link_StateSnapshot_StateSnapshot"><path codeLine="36" d="M739.83,392.65 C755.83,395.04 766.5,399.82 766.5,407 C766.5,414.18 755.83,418.96 739.83,421.35 " fill="none" id="StateSnapshot-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="736.0067" x2="735.0794" y1="425.8394" y2="417.8933"/><line style="stroke:#181818;stroke-width:1.0;" x1="738.9865" x2="738.0592" y1="425.4917" y2="417.5456"/><line style="stroke:#181818;stroke-width:1.0;" x1="739.5161" x2="731.57" y1="421.4027" y2="422.33"/><line style="stroke:#181818;stroke-width:1.0;" x1="742.4959" x2="731.57" y1="392.945" y2="391.67"/><ellipse cx="742.4959" cy="392.945" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="735.0794" x2="736.0067" y1="396.1067" y2="388.1606"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="772.5" y="412.0684">previous</text></g><!--MD5=[45dc4411079e1d24527a88f21fc8d174]
link TransactionHistory to RelevantTransaction--><g id="link_TransactionHistory_RelevantTransaction"><path codeLine="38" d="M617.44,597.28 C615.33,615.84 612.66,639.29 610.55,657.83 " fill="none" id="TransactionHistory-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.5332" x2="615.5808" y1="658.0223" y2="666.6549"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.5332" x2="603.6592" y1="658.0223" y2="665.2851"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.5332" x2="609.62" y1="658.0223" y2="665.97"/><ellipse cx="611.2181" cy="652.0615" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.4693" x2="612.4082" y1="597.0891" y2="588.4645"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.4693" x2="624.3318" y1="597.0891" y2="589.8155"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.4693" x2="618.37" y1="597.0891" y2="589.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="613.2695" x2="621.2187" y1="598.6261" y2="599.5268"/></g><!--MD5=[2a2abfd1b618622b2ee9272ee4d4731a]
link DAppConnection to WalletAPI--><g id="link_DAppConnection_WalletAPI"><path codeLine="40" d="M379,63.61 C379,77.48 379,93.71 379,107.56 " fill="none" id="DAppConnection-WalletAPI" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="385" y1="107.83" y2="115.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="373" y1="107.83" y2="115.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="107.83" y2="115.83"/><ellipse cx="379" cy="101.83" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="373" y1="63.22" y2="55.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="385" y1="63.22" y2="55.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="63.22" y2="55.22"/><ellipse cx="379" cy="69.22" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9554417bdbabf32227fb2396ffb6cc31]
link SyncBlock to SyncConnection--><g id="link_SyncBlock_SyncConnection"><path codeLine="41" d="M431,722.61 C431,736.48 431,752.71 431,766.56 " fill="none" id="SyncBlock-SyncConnection" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="763.83" y2="774.83"/><ellipse cx="431" cy="763.83" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435" x2="427" y1="770.83" y2="770.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="425" y1="722.22" y2="714.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="437" y1="722.22" y2="714.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="722.22" y2="714.22"/><ellipse cx="431" cy="728.22" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[77afeb5038c7b04febf7a65627a4db79]
reverse link SyncConnection to NodeConnection--><g id="link_SyncConnection_NodeConnection"><path codeLine="42" d="M468.38,837.74 C483.61,853.1 500.72,870.38 514.04,883.83 " fill="none" id="SyncConnection-backto-NodeConnection" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="463.1,842.35,454,823.22,473.05,832.5,463.1,842.35" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2936aa259481294a16e19adcf4c85c44]
reverse link SyncConnection to WalletBackendConnection--><g id="link_SyncConnection_WalletBackendConnection"><path codeLine="43" d="M393.26,837.74 C377.9,853.1 360.62,870.38 347.17,883.83 " fill="none" id="SyncConnection-backto-WalletBackendConnection" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="388.69,832.41,407.78,823.22,398.59,842.31,388.69,832.41" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[05ca6f8a6d4981b0b974291c7d72e718]
link SyncTransaction to RelevantTransaction--><g id="link_SyncTransaction_RelevantTransaction"><path codeLine="44" d="M470.96,593.93 C499.8,614.08 538.56,641.17 567.33,661.27 " fill="none" id="SyncTransaction-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.0257" x2="574.04" y1="659.6659" y2="665.97"/><ellipse cx="565.0257" cy="659.6659" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="573.0545" x2="568.4697" y1="660.3997" y2="666.9555"/><line style="stroke:#181818;stroke-width:1.0;" x1="465.0855" x2="469.6703" y1="594.7103" y2="588.1545"/><line style="stroke:#181818;stroke-width:1.0;" x1="467.544" x2="472.1288" y1="596.4297" y2="589.8738"/><line style="stroke:#181818;stroke-width:1.0;" x1="470.6559" x2="464.1" y1="593.7248" y2="589.14"/></g><!--MD5=[2aa3d5120051f38458f41a21db7af8ae]
link SyncTransaction to SyncBlock--><g id="link_SyncTransaction_SyncBlock"><path codeLine="45" d="M431,597.28 C431,615.84 431,639.29 431,657.83 " fill="none" id="SyncTransaction-SyncBlock" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435" x2="427" y1="661.97" y2="661.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="435" x2="427" y1="658.97" y2="658.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="657.97" y2="665.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="425" y1="597.14" y2="589.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="437" y1="597.14" y2="589.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="597.14" y2="589.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="427" x2="435" y1="599.14" y2="599.14"/></g><!--MD5=[04109ef3968592d3e04ba9087877e9e5]
link RelevantTxFilter to KeyChain--><g id="link_RelevantTxFilter_KeyChain"><path codeLine="48" d="M344.51,445.37 C319.19,472.79 285.3,509.51 261.96,534.8 " fill="none" id="RelevantTxFilter-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="263.7276" x2="256.26" y1="532.8932" y2="540.97"/><ellipse cx="263.7276" cy="532.8932" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="261.9125" x2="256.0385" y1="540.7485" y2="535.3175"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.5578" x2="350.4384" y1="439.4184" y2="444.8422"/><line style="stroke:#181818;stroke-width:1.0;" x1="342.5238" x2="348.4044" y1="441.6236" y2="447.0475"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.7861" x2="350.21" y1="445.0706" y2="439.19"/></g><!--MD5=[c07850bce0ea29074ca441d0105ae29c]
link RelevantTxFilter to SyncTransaction--><g id="link_RelevantTxFilter_SyncTransaction"><path codeLine="49" d="M391.96,446.87 C400.86,473.58 412.52,508.56 420.77,533.31 " fill="none" id="RelevantTxFilter-SyncTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.7902" x2="429.0121" y1="533.3805" y2="539.0726"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.7902" x2="417.6279" y1="533.3805" y2="542.8674"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.7902" x2="423.32" y1="533.3805" y2="540.97"/><ellipse cx="418.8928" cy="527.6884" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="386.8702" x2="394.4596" y1="444.2496" y2="441.7198"/><line style="stroke:#181818;stroke-width:1.0;" x1="387.8189" x2="395.4083" y1="447.0957" y2="444.5659"/><line style="stroke:#181818;stroke-width:1.0;" x1="391.9298" x2="389.4" y1="446.7795" y2="439.19"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="414" y="507.5684">accepts or rejects</text></g><!--MD5=[46a40e25e98bf184adec2c33e3c821f4]
link KeyChain to ViewingKey--><g id="link_KeyChain_ViewingKey"><path codeLine="51" d="M179.61,570.27 C144.58,575.96 101.13,589.05 75,619 C65.61,629.77 62.05,645.08 60.97,658.64 " fill="none" id="KeyChain-ViewingKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.7986" x2="56.809" y1="662.169" y2="661.7614"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.9515" x2="56.9619" y1="659.1729" y2="658.7653"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.0076" x2="60.6" y1="657.9704" y2="665.96"/><line style="stroke:#181818;stroke-width:1.0;" x1="182.3992" x2="183.5899" y1="565.8099" y2="573.7208"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.4326" x2="180.6233" y1="566.2564" y2="574.1673"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.0391" x2="186.95" y1="570.3607" y2="569.17"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="76" y="632.5684">derives from private key</text></g><!--MD5=[111cd2fe4ae85a005e9d115304bf4493]
link KeyChain to KeyStore--><g id="link_KeyChain_KeyStore"><path codeLine="52" d="M235.98,596.15 C236.6,615.25 237.4,639.86 238.02,658.95 " fill="none" id="KeyChain-KeyStore" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.1173" x2="234.1216" y1="661.8416" y2="662.1027"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.0194" x2="234.0237" y1="658.8432" y2="659.1043"/><line style="stroke:#181818;stroke-width:1.0;" x1="237.9889" x2="238.25" y1="657.9743" y2="665.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="231.8827" x2="239.8784" y1="593.2684" y2="593.0073"/><line style="stroke:#181818;stroke-width:1.0;" x1="231.9806" x2="239.9763" y1="596.2668" y2="596.0057"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.0111" x2="235.75" y1="597.1357" y2="589.14"/></g><!--MD5=[046f29df0507760fd8842fa727e2ee0d]
link KeyStore to EncryptedPrivateKey--><g id="link_KeyStore_EncryptedPrivateKey"><path codeLine="53" d="M239,721.24 C239,735.72 239,753.02 239,767.53 " fill="none" id="KeyStore-EncryptedPrivateKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="235" y1="770.83" y2="770.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="235" y1="767.83" y2="767.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="239" y1="766.83" y2="774.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="243" y1="718.22" y2="718.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="243" y1="721.22" y2="721.22"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="239" y1="722.22" y2="714.22"/></g><!--MD5=[dec0cbd68b81a879ac565f2095c77803]
@startuml

entity EncryptedPrivateKey {}
entity ViewingKey {

}
entity KeyStore {}
entity KeyChain {}
entity RelevantTxFilter {
  * filterDefinition: Definition
}
entity SyncBlock {}
entity SyncTransaction {}
entity RelevantTransaction {}
entity TransactionHistory {}
entity DAppConnection {}
interface SyncConnection {}
entity WalletBackendConnection {}
entity NodeConnection {}
entity StateSnapshot {
  * newEvents: WalletEvent
  * derivedState : DerivedState
  * knownAddresses: Address[]
  * balance: Balance
}
interface WalletAPI
entity Wallet {
  * lastSnapshot: StateSnapshot
}
WalletAPI <|- - Wallet

Wallet ||- -|{ StateSnapshot
Wallet ||- -|| KeyChain
Wallet ||- -|{ RelevantTxFilter

StateSnapshot }|- -|| TransactionHistory
StateSnapshot |o- -|| StateSnapshot : previous

TransactionHistory }|- -o{ RelevantTransaction

DAppConnection }o- -o{ WalletAPI
SyncBlock }o- -o| SyncConnection
SyncConnection <|- - NodeConnection
SyncConnection <|- - WalletBackendConnection
SyncTransaction ||- -o| RelevantTransaction
SyncTransaction }|- -|| SyncBlock


RelevantTxFilter ||- -o| KeyChain
RelevantTxFilter ||- -o{ SyncTransaction : accepts or rejects

KeyChain ||- -|| ViewingKey : derives from private key
KeyChain ||- -|| KeyStore
KeyStore ||- -|| EncryptedPrivateKey
@enduml

PlantUML version 1.2022.4(Sat Apr 09 15:29:17 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PL
--></g></svg>