<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="939px" preserveAspectRatio="none" style="width:839px;height:939px;background:#FFFFFF;" version="1.1" viewBox="0 0 839 939" width="839px" zoomAndPan="magnify"><defs/><g><!--MD5=[2bb3ae8521833b2439d654d03182b239]
class EncryptedPrivateKey--><g id="elem_EncryptedPrivateKey"><rect codeLine="2" fill="#F1F1F1" height="48" id="EncryptedPrivateKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="154" y="775"/><ellipse cx="169" cy="791" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M172.6143,797.5 L164.8945,797.5 L164.8945,785.1069 L172.6143,785.1069 L172.6143,787.2651 L167.3433,787.2651 L167.3433,789.938 L172.1162,789.938 L172.1162,792.0962 L167.3433,792.0962 L167.3433,795.3418 L172.6143,795.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="183" y="796.291">EncryptedPrivateKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="323" y1="807" y2="807"/><line style="stroke:#181818;stroke-width:0.5;" x1="155" x2="323" y1="815" y2="815"/></g><!--MD5=[b43eda3cf1795c310d0fc3c6dcee7a72]
class ViewingKey--><g id="elem_ViewingKey"><rect codeLine="3" fill="#F1F1F1" height="48" id="ViewingKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="7" y="666"/><ellipse cx="22" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M25.6143,688.5 L17.8945,688.5 L17.8945,676.1069 L25.6143,676.1069 L25.6143,678.2651 L20.3433,678.2651 L20.3433,680.938 L25.1162,680.938 L25.1162,683.0962 L20.3433,683.0962 L20.3433,686.3418 L25.6143,686.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="36" y="687.291">ViewingKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="706" y2="706"/></g><!--MD5=[c6d153f9551dd3a00861177ea9d737c1]
class KeyStore--><g id="elem_KeyStore"><rect codeLine="6" fill="#F1F1F1" height="48" id="KeyStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="193" y="666"/><ellipse cx="208" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M211.6143,688.5 L203.8945,688.5 L203.8945,676.1069 L211.6143,676.1069 L211.6143,678.2651 L206.3433,678.2651 L206.3433,680.938 L211.1162,680.938 L211.1162,683.0962 L206.3433,683.0962 L206.3433,686.3418 L211.6143,686.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="222" y="687.291">KeyStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="284" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="284" y1="706" y2="706"/></g><!--MD5=[79593acfb0305ecf9e101e13abf886b9]
class KeyChain--><g id="elem_KeyChain"><rect codeLine="7" fill="#F1F1F1" height="48" id="KeyChain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="187" y="541"/><ellipse cx="202" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M205.6143,563.5 L197.8945,563.5 L197.8945,551.1069 L205.6143,551.1069 L205.6143,553.2651 L200.3433,553.2651 L200.3433,555.938 L205.1162,555.938 L205.1162,558.0962 L200.3433,558.0962 L200.3433,561.3418 L205.6143,561.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="216" y="562.291">KeyChain</text><line style="stroke:#181818;stroke-width:0.5;" x1="188" x2="282" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="188" x2="282" y1="581" y2="581"/></g><!--MD5=[2a04af076941991142dd6447ef7c8ea1]
class RelevantTxFilter--><g id="elem_RelevantTxFilter"><rect codeLine="8" fill="#F1F1F1" height="64.4883" id="RelevantTxFilter" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="279" y="375"/><ellipse cx="319.65" cy="391" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M323.2643,397.5 L315.5445,397.5 L315.5445,385.1069 L323.2643,385.1069 L323.2643,387.2651 L317.9933,387.2651 L317.9933,389.938 L322.7662,389.938 L322.7662,392.0962 L317.9933,392.0962 L317.9933,395.3418 L323.2643,395.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="339.35" y="396.291">RelevantTxFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="280" x2="478" y1="407" y2="407"/><ellipse cx="290" cy="418" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="299" y="424.5352">filterDefinition: Definition</text><line style="stroke:#181818;stroke-width:0.5;" x1="280" x2="478" y1="431.4883" y2="431.4883"/></g><!--MD5=[2b385e3ef8f615e58d4080ccd927babc]
class SyncBlock--><g id="elem_SyncBlock"><rect codeLine="11" fill="#F1F1F1" height="48" id="SyncBlock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="381.5" y="666"/><ellipse cx="396.5" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M400.1143,688.5 L392.3945,688.5 L392.3945,676.1069 L400.1143,676.1069 L400.1143,678.2651 L394.8433,678.2651 L394.8433,680.938 L399.6162,680.938 L399.6162,683.0962 L394.8433,683.0962 L394.8433,686.3418 L400.1143,686.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="410.5" y="687.291">SyncBlock</text><line style="stroke:#181818;stroke-width:0.5;" x1="382.5" x2="479.5" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="382.5" x2="479.5" y1="706" y2="706"/></g><!--MD5=[aaa82ee819e409c7f47a0f1375d8e1e8]
class SyncTransaction--><g id="elem_SyncTransaction"><rect codeLine="12" fill="#F1F1F1" height="48" id="SyncTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="359" y="541"/><ellipse cx="374" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M377.6143,563.5 L369.8945,563.5 L369.8945,551.1069 L377.6143,551.1069 L377.6143,553.2651 L372.3433,553.2651 L372.3433,555.938 L377.1162,555.938 L377.1162,558.0962 L372.3433,558.0962 L372.3433,561.3418 L377.6143,561.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="388" y="562.291">SyncTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="360" x2="502" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="360" x2="502" y1="581" y2="581"/></g><!--MD5=[0164bdab82738efd25435ed1b870118f]
class RelevantTransaction--><g id="elem_RelevantTransaction"><rect codeLine="13" fill="#F1F1F1" height="48" id="RelevantTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="521.5" y="666"/><ellipse cx="536.5" cy="682" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M540.1143,688.5 L532.3945,688.5 L532.3945,676.1069 L540.1143,676.1069 L540.1143,678.2651 L534.8433,678.2651 L534.8433,680.938 L539.6162,680.938 L539.6162,683.0962 L534.8433,683.0962 L534.8433,686.3418 L540.1143,686.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="550.5" y="687.291">RelevantTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="522.5" x2="691.5" y1="698" y2="698"/><line style="stroke:#181818;stroke-width:0.5;" x1="522.5" x2="691.5" y1="706" y2="706"/></g><!--MD5=[4899691ac04b654407999835b9998e46]
class TransactionHistory--><g id="elem_TransactionHistory"><rect codeLine="14" fill="#F1F1F1" height="48" id="TransactionHistory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="540.5" y="541"/><ellipse cx="555.5" cy="557" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M559.1143,563.5 L551.3945,563.5 L551.3945,551.1069 L559.1143,551.1069 L559.1143,553.2651 L553.8433,553.2651 L553.8433,555.938 L558.6162,555.938 L558.6162,558.0962 L553.8433,558.0962 L553.8433,561.3418 L559.1143,561.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="569.5" y="562.291">TransactionHistory</text><line style="stroke:#181818;stroke-width:0.5;" x1="541.5" x2="700.5" y1="573" y2="573"/><line style="stroke:#181818;stroke-width:0.5;" x1="541.5" x2="700.5" y1="581" y2="581"/></g><!--MD5=[43c3931aad95f43f65e651b4a617536c]
class DAppConnection--><g id="elem_DAppConnection"><rect codeLine="15" fill="#F1F1F1" height="48" id="DAppConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="304.5" y="7"/><ellipse cx="319.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M323.1143,29.5 L315.3945,29.5 L315.3945,17.1069 L323.1143,17.1069 L323.1143,19.2651 L317.8433,19.2651 L317.8433,21.938 L322.6162,21.938 L322.6162,24.0962 L317.8433,24.0962 L317.8433,27.3418 L323.1143,27.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="333.5" y="28.291">DAppConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="305.5" x2="452.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="305.5" x2="452.5" y1="47" y2="47"/></g><!--MD5=[55535a83c097026635c1692abc1750d2]
class SyncConnection--><g id="elem_SyncConnection"><rect codeLine="16" fill="#F1F1F1" height="48" id="SyncConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="360" y="775"/><ellipse cx="375" cy="791" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M371.4277,787.2651 L371.4277,785.1069 L378.8071,785.1069 L378.8071,787.2651 L376.3418,787.2651 L376.3418,795.3418 L378.8071,795.3418 L378.8071,797.5 L371.4277,797.5 L371.4277,795.3418 L373.8931,795.3418 L373.8931,787.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="110" x="389" y="796.291">SyncConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="361" x2="501" y1="807" y2="807"/><line style="stroke:#181818;stroke-width:0.5;" x1="361" x2="501" y1="815" y2="815"/></g><!--MD5=[deb3a582903b940fb493d0df4fa00845]
class WalletBackendConnection--><g id="elem_WalletBackendConnection"><rect codeLine="17" fill="#F1F1F1" height="48" id="WalletBackendConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="219.5" y="884"/><ellipse cx="234.5" cy="900" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M238.1143,906.5 L230.3945,906.5 L230.3945,894.1069 L238.1143,894.1069 L238.1143,896.2651 L232.8433,896.2651 L232.8433,898.938 L237.6162,898.938 L237.6162,901.0962 L232.8433,901.0962 L232.8433,904.3418 L238.1143,904.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="248.5" y="905.291">WalletBackendConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="220.5" x2="427.5" y1="916" y2="916"/><line style="stroke:#181818;stroke-width:0.5;" x1="220.5" x2="427.5" y1="924" y2="924"/></g><!--MD5=[f2a04ac64d05db282901c06a4ada9ec8]
class NodeConnection--><g id="elem_NodeConnection"><rect codeLine="18" fill="#F1F1F1" height="48" id="NodeConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="463.5" y="884"/><ellipse cx="478.5" cy="900" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M482.1143,906.5 L474.3945,906.5 L474.3945,894.1069 L482.1143,894.1069 L482.1143,896.2651 L476.8433,896.2651 L476.8433,898.938 L481.6162,898.938 L481.6162,901.0962 L476.8433,901.0962 L476.8433,904.3418 L482.1143,904.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="492.5" y="905.291">NodeConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="464.5" x2="609.5" y1="916" y2="916"/><line style="stroke:#181818;stroke-width:0.5;" x1="464.5" x2="609.5" y1="924" y2="924"/></g><!--MD5=[f18cbbd586a3bb29b8d64278e80b7c4d]
class StateSnapshot--><g id="elem_StateSnapshot"><rect codeLine="19" fill="#F1F1F1" height="113.9531" id="StateSnapshot" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="514.5" y="350"/><ellipse cx="569.75" cy="366" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M573.3643,372.5 L565.6445,372.5 L565.6445,360.1069 L573.3643,360.1069 L573.3643,362.2651 L568.0933,362.2651 L568.0933,364.938 L572.8662,364.938 L572.8662,367.0962 L568.0933,367.0962 L568.0933,370.3418 L573.3643,370.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="590.25" y="371.291">StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="515.5" x2="730.5" y1="382" y2="382"/><ellipse cx="525.5" cy="393" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="534.5" y="399.5352">newEvents: WalletEvent</text><ellipse cx="525.5" cy="409.4883" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="534.5" y="416.0234">derivedState : DerivedState</text><ellipse cx="525.5" cy="425.9766" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="534.5" y="432.5117">knownAddresses: Address[]</text><ellipse cx="525.5" cy="442.4648" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="534.5" y="449">balance: Balance</text><line style="stroke:#181818;stroke-width:0.5;" x1="515.5" x2="730.5" y1="455.9531" y2="455.9531"/></g><!--MD5=[869bf22e92cfa91ce7666e532000f6dd]
class WalletAPI--><g id="elem_WalletAPI"><rect codeLine="25" fill="#F1F1F1" height="48" id="WalletAPI" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="331.5" y="116"/><ellipse cx="346.5" cy="132" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M342.9277,128.2651 L342.9277,126.1069 L350.3071,126.1069 L350.3071,128.2651 L347.8418,128.2651 L347.8418,136.3418 L350.3071,136.3418 L350.3071,138.5 L342.9277,138.5 L342.9277,136.3418 L345.3931,136.3418 L345.3931,128.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="63" x="360.5" y="137.291">WalletAPI</text><line style="stroke:#181818;stroke-width:0.5;" x1="332.5" x2="425.5" y1="148" y2="148"/><line style="stroke:#181818;stroke-width:0.5;" x1="332.5" x2="425.5" y1="156" y2="156"/></g><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><g id="elem_Wallet"><rect codeLine="26" fill="#F1F1F1" height="64.4883" id="Wallet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="269" y="225"/><ellipse cx="354.25" cy="241" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M357.8643,247.5 L350.1445,247.5 L350.1445,235.1069 L357.8643,235.1069 L357.8643,237.2651 L352.5933,237.2651 L352.5933,239.938 L357.3662,239.938 L357.3662,242.0962 L352.5933,242.0962 L352.5933,245.3418 L357.8643,245.3418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="374.75" y="246.291">Wallet</text><line style="stroke:#181818;stroke-width:0.5;" x1="270" x2="488" y1="257" y2="257"/><ellipse cx="280" cy="268" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="289" y="274.5352">lastSnapshot: StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="270" x2="488" y1="281.4883" y2="281.4883"/></g><!--MD5=[b349b2c4b3fcbf6e99af8ef3754148f6]
reverse link WalletAPI to Wallet--><g id="link_WalletAPI_Wallet"><path codeLine="29" d="M379,185.61 C379,198.74 379,212.82 379,224.91 " fill="none" id="WalletAPI-backto-Wallet" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="372,185.79,379,165.79,386,185.79,372,185.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a4e4d8ff56731b9cc6b70ddca056ea7b]
link Wallet to StateSnapshot--><g id="link_Wallet_StateSnapshot"><path codeLine="31" d="M438.7,294.21 C463.78,309.43 493.67,327.56 522,344.74 " fill="none" id="Wallet-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.8228" x2="531.7753" y1="344.6163" y2="343.6421"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.8228" x2="525.5447" y1="344.6163" y2="353.8979"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.8228" x2="528.66" y1="344.6163" y2="348.77"/><line style="stroke:#181818;stroke-width:1.0;" x1="522.1904" x2="518.0367" y1="340.1593" y2="346.9965"/><line style="stroke:#181818;stroke-width:1.0;" x1="433.385" x2="437.5346" y1="295.6646" y2="288.825"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.9499" x2="440.0995" y1="297.2207" y2="290.3811"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.8797" x2="432.04" y1="294.3196" y2="290.17"/></g><!--MD5=[f4aaeb60564af7e2b0ee51d26ab97764]
link Wallet to KeyChain--><g id="link_Wallet_KeyChain"><path codeLine="32" d="M314.47,294.18 C294.11,308.85 273.64,327.65 261,350 C228.27,407.87 228.44,488.48 231.62,532.4 " fill="none" id="Wallet-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.8286" x2="227.8541" y1="534.8641" y2="535.5014"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.5896" x2="227.6151" y1="531.8736" y2="532.5109"/><line style="stroke:#181818;stroke-width:1.0;" x1="231.5227" x2="232.16" y1="531.1954" y2="539.17"/><line style="stroke:#181818;stroke-width:1.0;" x1="314.5487" x2="319.1397" y1="289.2597" y2="295.8113"/><line style="stroke:#181818;stroke-width:1.0;" x1="312.0919" x2="316.6829" y1="290.9813" y2="297.5329"/><line style="stroke:#181818;stroke-width:1.0;" x1="313.5684" x2="320.12" y1="294.831" y2="290.24"/></g><!--MD5=[eac7d97cbb1d1f5ca7d64b87306b5bd1]
link Wallet to RelevantTxFilter--><g id="link_Wallet_RelevantTxFilter"><path codeLine="33" d="M379,298.59 C379,319.3 379,344.43 379,365.17 " fill="none" id="Wallet-RelevantTxFilter" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="385" y1="365.14" y2="373.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="373" y1="365.14" y2="373.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="365.14" y2="373.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="383" x2="375" y1="363.14" y2="363.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="375" x2="383" y1="294.9" y2="294.9"/><line style="stroke:#181818;stroke-width:1.0;" x1="375" x2="383" y1="297.9" y2="297.9"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="298.9" y2="290.9"/></g><!--MD5=[57bb2d1dd60281233820eafac1c03891]
link StateSnapshot to TransactionHistory--><g id="link_StateSnapshot_TransactionHistory"><path codeLine="35" d="M622.16,473.71 C621.9,493.65 621.63,514.68 621.42,531.43 " fill="none" id="StateSnapshot-TransactionHistory" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.3697" x2="617.3703" y1="535.2903" y2="535.1903"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.4072" x2="617.4078" y1="532.2905" y2="532.1906"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.42" x2="621.32" y1="531.2406" y2="539.24"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.16" x2="616.2605" y1="473.8294" y2="465.755"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.16" x2="628.2595" y1="473.8294" y2="465.905"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.16" x2="622.26" y1="473.8294" y2="465.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="618.1353" x2="626.1347" y1="475.7792" y2="475.8792"/></g><!--MD5=[c4f3e82f27b32a11313cf9a67f530cbb]
link StateSnapshot to StateSnapshot--><g id="link_StateSnapshot_StateSnapshot"><path codeLine="36" d="M740.93,392.57 C756.31,395.05 766.5,399.86 766.5,407 C766.5,414.14 756.31,418.95 740.93,421.43 " fill="none" id="StateSnapshot-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="737.8483" x2="736.849" y1="425.849" y2="417.9117"/><line style="stroke:#181818;stroke-width:1.0;" x1="740.8248" x2="739.8255" y1="425.4743" y2="417.5369"/><line style="stroke:#181818;stroke-width:1.0;" x1="741.3173" x2="733.38" y1="421.3807" y2="422.38"/><line style="stroke:#181818;stroke-width:1.0;" x1="744.2938" x2="733.38" y1="392.994" y2="391.62"/><ellipse cx="744.2938" cy="392.994" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="736.849" x2="737.8483" y1="396.0883" y2="388.151"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="772.5" y="412.0684">previous</text></g><!--MD5=[45dc4411079e1d24527a88f21fc8d174]
link TransactionHistory to RelevantTransaction--><g id="link_TransactionHistory_RelevantTransaction"><path codeLine="38" d="M617.28,598.66 C615.26,616.46 612.76,638.43 610.73,656.24 " fill="none" id="TransactionHistory-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.7448" x2="615.7906" y1="656.2125" y2="664.8461"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.7448" x2="603.8694" y1="656.2125" y2="663.4739"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.7448" x2="609.83" y1="656.2125" y2="664.16"/><ellipse cx="611.4309" cy="650.2518" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.2593" x2="612.1982" y1="598.8791" y2="590.2545"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.2593" x2="624.1218" y1="598.8791" y2="591.6055"/><line style="stroke:#181818;stroke-width:1.0;" x1="617.2593" x2="618.16" y1="598.8791" y2="590.93"/><line style="stroke:#181818;stroke-width:1.0;" x1="613.0595" x2="621.0087" y1="600.4161" y2="601.3168"/></g><!--MD5=[2a2abfd1b618622b2ee9272ee4d4731a]
link DAppConnection to WalletAPI--><g id="link_DAppConnection_WalletAPI"><path codeLine="40" d="M379,64.74 C379,77.95 379,93.17 379,106.37 " fill="none" id="DAppConnection-WalletAPI" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="385" y1="106.06" y2="114.06"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="373" y1="106.06" y2="114.06"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="106.06" y2="114.06"/><ellipse cx="379" cy="100.06" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="373" y1="65" y2="57"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="385" y1="65" y2="57"/><line style="stroke:#181818;stroke-width:1.0;" x1="379" x2="379" y1="65" y2="57"/><ellipse cx="379" cy="71" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9554417bdbabf32227fb2396ffb6cc31]
link SyncBlock to SyncConnection--><g id="link_SyncBlock_SyncConnection"><path codeLine="41" d="M431,723.74 C431,736.95 431,752.17 431,765.37 " fill="none" id="SyncBlock-SyncConnection" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="762.06" y2="773.06"/><ellipse cx="431" cy="762.06" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435" x2="427" y1="769.06" y2="769.06"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="425" y1="724" y2="716"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="437" y1="724" y2="716"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="724" y2="716"/><ellipse cx="431" cy="730" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[77afeb5038c7b04febf7a65627a4db79]
reverse link SyncConnection to NodeConnection--><g id="link_SyncConnection_NodeConnection"><path codeLine="42" d="M469.01,838.37 C483.98,853.48 500.69,870.34 513.79,883.57 " fill="none" id="SyncConnection-backto-NodeConnection" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="464.43,843.69,455.33,824.56,474.38,833.84,464.43,843.69" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2936aa259481294a16e19adcf4c85c44]
reverse link SyncConnection to WalletBackendConnection--><g id="link_SyncConnection_WalletBackendConnection"><path codeLine="43" d="M392.63,838.37 C377.52,853.48 360.66,870.34 347.43,883.57 " fill="none" id="SyncConnection-backto-WalletBackendConnection" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="387.36,833.74,406.45,824.55,397.26,843.64,387.36,833.74" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[05ca6f8a6d4981b0b974291c7d72e718]
link SyncTransaction to RelevantTransaction--><g id="link_SyncTransaction_RelevantTransaction"><path codeLine="44" d="M472.12,594.74 C500.35,614.47 537.67,640.55 565.9,660.28 " fill="none" id="SyncTransaction-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.3557" x2="572.37" y1="658.4959" y2="664.8"/><ellipse cx="563.3557" cy="658.4959" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="571.3845" x2="566.7997" y1="659.2297" y2="665.7855"/><line style="stroke:#181818;stroke-width:1.0;" x1="466.7455" x2="471.3303" y1="595.8603" y2="589.3045"/><line style="stroke:#181818;stroke-width:1.0;" x1="469.204" x2="473.7888" y1="597.5797" y2="591.0238"/><line style="stroke:#181818;stroke-width:1.0;" x1="472.3159" x2="465.76" y1="594.8748" y2="590.29"/></g><!--MD5=[2aa3d5120051f38458f41a21db7af8ae]
link SyncTransaction to SyncBlock--><g id="link_SyncTransaction_SyncBlock"><path codeLine="45" d="M431,598.66 C431,616.46 431,638.43 431,656.24 " fill="none" id="SyncTransaction-SyncBlock" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435" x2="427" y1="660.15" y2="660.15"/><line style="stroke:#181818;stroke-width:1.0;" x1="435" x2="427" y1="657.15" y2="657.15"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="656.15" y2="664.15"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="425" y1="598.94" y2="590.94"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="437" y1="598.94" y2="590.94"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="431" y1="598.94" y2="590.94"/><line style="stroke:#181818;stroke-width:1.0;" x1="427" x2="435" y1="600.94" y2="600.94"/></g><!--MD5=[04109ef3968592d3e04ba9087877e9e5]
link RelevantTxFilter to KeyChain--><g id="link_RelevantTxFilter_KeyChain"><path codeLine="48" d="M343.82,446.12 C318.78,473.24 285.6,509.18 262.5,534.21 " fill="none" id="RelevantTxFilter-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.7576" x2="257.29" y1="531.7832" y2="539.86"/><ellipse cx="264.7576" cy="531.7832" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="262.9425" x2="257.0685" y1="539.6385" y2="534.2075"/><line style="stroke:#181818;stroke-width:1.0;" x1="343.5278" x2="349.409" y1="440.539" y2="445.9622"/><line style="stroke:#181818;stroke-width:1.0;" x1="341.4941" x2="347.3752" y1="442.7444" y2="448.1677"/><line style="stroke:#181818;stroke-width:1.0;" x1="343.7567" x2="349.18" y1="446.1912" y2="440.31"/></g><!--MD5=[c07850bce0ea29074ca441d0105ae29c]
link RelevantTxFilter to SyncTransaction--><g id="link_RelevantTxFilter_SyncTransaction"><path codeLine="49" d="M392.34,448.01 C401.05,474.15 412.27,507.81 420.38,532.14 " fill="none" id="RelevantTxFilter-SyncTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.3102" x2="428.5321" y1="531.9405" y2="537.6326"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.3102" x2="417.1479" y1="531.9405" y2="541.4274"/><line style="stroke:#181818;stroke-width:1.0;" x1="420.3102" x2="422.84" y1="531.9405" y2="539.53"/><ellipse cx="418.4128" cy="526.2484" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="387.3502" x2="394.9396" y1="445.6896" y2="443.1598"/><line style="stroke:#181818;stroke-width:1.0;" x1="388.2989" x2="395.8883" y1="448.5357" y2="446.0059"/><line style="stroke:#181818;stroke-width:1.0;" x1="392.4098" x2="389.88" y1="448.2195" y2="440.63"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="414" y="507.5684">accepts or rejects</text></g><!--MD5=[46a40e25e98bf184adec2c33e3c821f4]
link KeyChain to ViewingKey--><g id="link_KeyChain_ViewingKey"><path codeLine="51" d="M178.37,570.47 C143.56,576.27 100.82,589.4 75,619 C65.94,629.39 62.3,644.02 61.09,657.22 " fill="none" id="KeyChain-ViewingKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.9121" x2="56.9252" y1="660.3552" y2="659.8979"/><line style="stroke:#181818;stroke-width:1.0;" x1="65.0836" x2="57.0967" y1="657.3601" y2="656.9028"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.1473" x2="60.69" y1="656.1331" y2="664.12"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5224" x2="181.7291" y1="566.0991" y2="574.0076"/><line style="stroke:#181818;stroke-width:1.0;" x1="177.5568" x2="178.7634" y1="566.5516" y2="574.4601"/><line style="stroke:#181818;stroke-width:1.0;" x1="177.1715" x2="185.08" y1="570.6567" y2="569.45"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="76" y="632.5684">derives from private key</text></g><!--MD5=[111cd2fe4ae85a005e9d115304bf4493]
link KeyChain to KeyStore--><g id="link_KeyChain_KeyStore"><path codeLine="52" d="M236.03,597.8 C236.63,616.21 237.38,639.28 237.98,657.61 " fill="none" id="KeyChain-KeyStore" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.0571" x2="234.0613" y1="660.0213" y2="660.2829"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.9589" x2="233.9632" y1="657.0229" y2="657.2846"/><line style="stroke:#181818;stroke-width:1.0;" x1="237.9284" x2="238.19" y1="656.1543" y2="664.15"/><line style="stroke:#181818;stroke-width:1.0;" x1="231.9427" x2="239.9384" y1="595.0684" y2="594.8073"/><line style="stroke:#181818;stroke-width:1.0;" x1="232.0406" x2="240.0363" y1="598.0668" y2="597.8057"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.0711" x2="235.81" y1="598.9357" y2="590.94"/></g><!--MD5=[046f29df0507760fd8842fa727e2ee0d]
link KeyStore to EncryptedPrivateKey--><g id="link_KeyStore_EncryptedPrivateKey"><path codeLine="53" d="M239,722.82 C239,736.57 239,752.63 239,766.36 " fill="none" id="KeyStore-EncryptedPrivateKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="235" y1="769.06" y2="769.06"/><line style="stroke:#181818;stroke-width:1.0;" x1="243" x2="235" y1="766.06" y2="766.06"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="239" y1="765.06" y2="773.06"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="243" y1="720" y2="720"/><line style="stroke:#181818;stroke-width:1.0;" x1="235" x2="243" y1="723" y2="723"/><line style="stroke:#181818;stroke-width:1.0;" x1="239" x2="239" y1="724" y2="716"/></g><!--MD5=[99f232f9d86cd4841b8acce41d1438c5]
@startuml

entity EncryptedPrivateKey {}
entity ViewingKey {

}
entity KeyStore {}
entity KeyChain {}
entity RelevantTxFilter {
  * filterDefinition: Definition
}
entity SyncBlock {}
entity SyncTransaction {}
entity RelevantTransaction {}
entity TransactionHistory {}
entity DAppConnection {}
interface SyncConnection {}
entity WalletBackendConnection {}
entity NodeConnection {}
entity StateSnapshot {
  * newEvents: WalletEvent
  * derivedState : DerivedState
  * knownAddresses: Address[]
  * balance: Balance
}
interface WalletAPI
entity Wallet {
  * lastSnapshot: StateSnapshot
}
WalletAPI <|- - Wallet

Wallet ||- -|{ StateSnapshot
Wallet ||- -|| KeyChain
Wallet ||- -|{ RelevantTxFilter

StateSnapshot }|- -|| TransactionHistory
StateSnapshot |o- -|| StateSnapshot : previous

TransactionHistory }|- -o{ RelevantTransaction

DAppConnection }o- -o{ WalletAPI
SyncBlock }o- -o| SyncConnection
SyncConnection <|- - NodeConnection
SyncConnection <|- - WalletBackendConnection
SyncTransaction ||- -o| RelevantTransaction
SyncTransaction }|- -|| SyncBlock


RelevantTxFilter ||- -o| KeyChain
RelevantTxFilter ||- -o{ SyncTransaction : accepts or rejects

KeyChain ||- -|| ViewingKey : derives from private key
KeyChain ||- -|| KeyStore
KeyStore ||- -|| EncryptedPrivateKey
@enduml

PlantUML version 1.2022.3(Tue Mar 29 18:10:57 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PL
--></g></svg>