<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="629px" preserveAspectRatio="none" style="width:619px;height:629px;background:#FFFFFF;" version="1.1" viewBox="0 0 619 629" width="619px" zoomAndPan="magnify"><defs/><g><g id="pending"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="146.5" y="143"/><line style="stroke:#181818;stroke-width:0.5;" x1="146.5" x2="222.5" y1="169.4883" y2="169.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="156.5" y="161.5352">Pending</text></g><g id="failed"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="61" x="7" y="549"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="68" y1="575.4883" y2="575.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="17" y="567.5352">Failed</text></g><g id="expected"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="323" y="143"/><line style="stroke:#181818;stroke-width:0.5;" x1="323" x2="406" y1="169.4883" y2="169.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="333" y="161.5352">Expected</text></g><ellipse cx="364.5" cy="16" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#F1F1F1" height="98.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="435" x="177" y="310"/><rect fill="#FFFFFF" height="70" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="433" x="178" y="337.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="177" x2="612" y1="336.4883" y2="336.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="358" y="328.5352">Confirmed</text><g id="confirmed.succeededEntirely"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="189" y="348.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="189" x2="337" y1="374.9766" y2="374.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="199" y="367.0234">Succeeded Entirely</text></g><g id="confirmed.failFallible"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="355" y="348.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="355" x2="469" y1="374.9766" y2="374.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="365" y="367.0234">Fallible Failed</text></g><g id="confirmed.failEntirely"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="487" y="348.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="487" x2="603" y1="374.9766" y2="374.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="497" y="367.0234">Failed Entirely</text></g><rect fill="#F1F1F1" height="98.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="435" x="177" y="525"/><rect fill="#FFFFFF" height="70" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="433" x="178" y="552.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="177" x2="612" y1="551.4883" y2="551.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="378" y="543.5352">Final</text><g id="final.succeededEntirelyF"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="189" y="563.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="189" x2="337" y1="589.9766" y2="589.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="199" y="582.0234">Succeeded Entirely</text></g><g id="final.failFallibleF"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="355" y="563.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="355" x2="469" y1="589.9766" y2="589.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="365" y="582.0234">Fallible Failed</text></g><g id="final.failEntirelyF"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="487" y="563.4883"/><line style="stroke:#181818;stroke-width:0.5;" x1="487" x2="603" y1="589.9766" y2="589.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="497" y="582.0234">Failed Entirely</text></g><!--MD5=[1938bc6a853a11b9ef2efe3ae926af70]
link *start to pending--><g id="link_*start_pending"><path d="M357.22,23.07 C334.23,42.22 262.14,102.3 218.69,138.51 " fill="none" id="*start-to-pending" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="214.97,141.61,224.4408,138.9073,218.8064,138.4034,219.3103,132.7691,214.97,141.61" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="292.5" y="89.5684">spend</text></g><!--MD5=[2f510e666f67c9c7db9cedbb83d33df7]
link *start to confirmed--><g id="link_*start_confirmed"><path d="M373.93,19.99 C392.94,26.59 435.6,44.38 453.5,76 C494.26,148 457.71,244.69 426.74,304.11 " fill="none" id="*start-to-confirmed" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="424.47,308.4,432.2143,302.3152,426.8081,303.9804,425.1429,298.5742,424.47,308.4" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="472.5" y="173.0684">apply</text></g><!--MD5=[9520415049eb9f07e8ccd5c169b2b428]
link *start to expected--><g id="link_*start_expected"><path d="M364.5,26.38 C364.5,48 364.5,102.09 364.5,136.53 " fill="none" id="*start-to-expected" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="364.5,141.21,368.5,132.21,364.5,136.21,360.5,132.21,364.5,141.21" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="365.5" y="89.5684">watch_for</text></g><!--MD5=[5bad0fa7eb53096bf8ad3d660e5a265f]
link expected to confirmed--><g id="link_expected_confirmed"><path d="M369.86,193.25 C372.94,207.66 376.73,226.32 379.5,243 C382.77,262.63 385.75,284.24 388.17,303.38 " fill="none" id="expected-to-confirmed" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="388.79,308.27,391.6528,298.8464,388.1751,303.308,383.7136,299.8302,388.79,308.27" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="383.5" y="256.5684">apply</text></g><!--MD5=[ebcf6dbfe2a2f920bd60ed608d75eebb]
link pending to confirmed--><g id="link_pending_confirmed"><path d="M169.78,193.26 C160.05,212.73 151.3,240.03 164.5,260 C176.91,278.78 193.74,293.98 212.68,306.27 " fill="none" id="pending-to-confirmed" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="216.8,308.85,211.2954,300.683,212.5624,306.1962,207.0493,307.4632,216.8,308.85" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="165.5" y="256.5684">apply</text></g><!--MD5=[84a6e6579109df2776c5b9ea88122c19]
link confirmed to pending--><g id="link_confirmed_pending"><path d="M340.95,309.8 C301.53,274.33 249.26,227.29 216.25,197.58 " fill="none" id="confirmed-to-pending" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="212.65,194.33,216.6447,203.3324,216.3594,197.6827,222.009,197.3974,212.65,194.33" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="284.5" y="256.5684">rollback</text></g><!--MD5=[08c40ba825df0a82f4fa6bc0b125ff1a]
link confirmed to final--><g id="link_confirmed_final"><path d="M394.5,408.33 C394.5,441.15 394.5,484.59 394.5,518.62 " fill="none" id="confirmed-to-final" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="394.5,523.34,398.5,514.34,394.5,518.34,390.5,514.34,394.5,523.34" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="395.5" y="471.5684">finalize</text></g><!--MD5=[429205cb9cae259107c53dca96386237]
link pending to failed--><g id="link_pending_failed"><path d="M160.39,193.1 C135.59,219.43 97.92,264.01 78.5,310 C45.12,389.04 38.59,491.77 37.52,542.25 " fill="none" id="pending-to-failed" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="37.44,547.21,41.5941,538.2801,37.5259,542.2107,33.5953,538.1426,37.44,547.21" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="79.5" y="364.0684">discard</text></g><!--MD5=[ce932b8a8c7ee8a7f124175b523bca00]
link confirmed to failed--><g id="link_confirmed_failed"><path d="M313.49,408.33 C238.31,453.19 129.84,517.9 73.91,551.28 " fill="none" id="confirmed-to-failed" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="69.64,553.83,79.42,552.6678,73.9375,551.2743,75.331,545.7918,69.64,553.83" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="228.5" y="471.5684">discard</text></g><!--MD5=[16952caa59a22ea7454e5cf54e0a3663]
@startuml

'skinparam linetype polyline
skinparam nodesep 100
skinparam ranksep 100

state confirmed as "Confirmed" {
  state succeededEntirely as "Succeeded Entirely"
  state failFallible as "Fallible Failed"
  state failEntirely as "Failed Entirely"
}
state pending as "Pending"

state final as "Final" {
  state succeededEntirelyF as "Succeeded Entirely"
  state failFallibleF as "Fallible Failed"
  state failEntirelyF as "Failed Entirely"
}

state failed as "Failed"
state expected as "Expected"

[*] - -> pending : spend
[*] - -> confirmed : apply
[*] - -> expected : watch_for
expected - -> confirmed : apply
pending - -> confirmed : apply
confirmed - -> final : finalize
confirmed - -> pending : rollback
pending - - -> failed : discard
confirmed - -> failed : discard

@enduml

@startuml

skinparam nodesep 100
skinparam ranksep 100

state confirmed as "Confirmed" {
  state succeededEntirely as "Succeeded Entirely"
  state failFallible as "Fallible Failed"
  state failEntirely as "Failed Entirely"
}
state pending as "Pending"

state final as "Final" {
  state succeededEntirelyF as "Succeeded Entirely"
  state failFallibleF as "Fallible Failed"
  state failEntirelyF as "Failed Entirely"
}

state failed as "Failed"
state expected as "Expected"

[*] - -> pending : spend
[*] - -> confirmed : apply
[*] - -> expected : watch_for
expected - -> confirmed : apply
pending - -> confirmed : apply
confirmed - -> final : finalize
confirmed - -> pending : rollback
pending - - -> failed : discard
confirmed - -> failed : discard

@enduml

PlantUML version 1.2022.3(Tue Mar 29 18:10:57 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PL
--></g></svg>