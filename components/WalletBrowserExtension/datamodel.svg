<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="612px" preserveAspectRatio="none" style="width:907px;height:612px;background:#FFFFFF;" version="1.1" viewBox="0 0 907 612" width="907px" zoomAndPan="magnify"><defs/><g><!--MD5=[2bb3ae8521833b2439d654d03182b239]
class EncryptedPrivateKey--><g id="elem_EncryptedPrivateKey"><rect codeLine="2" fill="#F1F1F1" height="48" id="EncryptedPrivateKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="149" y="557"/><ellipse cx="164" cy="573" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M168.1143,579 L160.3945,579 L160.3945,566.6069 L168.1143,566.6069 L168.1143,568.7651 L162.8433,568.7651 L162.8433,571.438 L167.6162,571.438 L167.6162,573.5962 L162.8433,573.5962 L162.8433,576.8418 L168.1143,576.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="178" y="578.291">EncryptedPrivateKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="150" x2="318" y1="589" y2="589"/><line style="stroke:#181818;stroke-width:0.5;" x1="150" x2="318" y1="597" y2="597"/></g><!--MD5=[b43eda3cf1795c310d0fc3c6dcee7a72]
class ViewingKey--><g id="elem_ViewingKey"><rect codeLine="3" fill="#F1F1F1" height="48" id="ViewingKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="7" y="448"/><ellipse cx="22" cy="464" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M26.1143,470 L18.3945,470 L18.3945,457.6069 L26.1143,457.6069 L26.1143,459.7651 L20.8433,459.7651 L20.8433,462.438 L25.6162,462.438 L25.6162,464.5962 L20.8433,464.5962 L20.8433,467.8418 L26.1143,467.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="36" y="469.291">ViewingKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="480" y2="480"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="488" y2="488"/></g><!--MD5=[c6d153f9551dd3a00861177ea9d737c1]
class KeyStore--><g id="elem_KeyStore"><rect codeLine="6" fill="#F1F1F1" height="48" id="KeyStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="189" y="448"/><ellipse cx="204" cy="464" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M208.1143,470 L200.3945,470 L200.3945,457.6069 L208.1143,457.6069 L208.1143,459.7651 L202.8433,459.7651 L202.8433,462.438 L207.6162,462.438 L207.6162,464.5962 L202.8433,464.5962 L202.8433,467.8418 L208.1143,467.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="218" y="469.291">KeyStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="190" x2="280" y1="480" y2="480"/><line style="stroke:#181818;stroke-width:0.5;" x1="190" x2="280" y1="488" y2="488"/></g><!--MD5=[79593acfb0305ecf9e101e13abf886b9]
class KeyChain--><g id="elem_KeyChain"><rect codeLine="7" fill="#F1F1F1" height="48" id="KeyChain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="191" y="323"/><ellipse cx="206" cy="339" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M210.1143,345 L202.3945,345 L202.3945,332.6069 L210.1143,332.6069 L210.1143,334.7651 L204.8433,334.7651 L204.8433,337.438 L209.6162,337.438 L209.6162,339.5962 L204.8433,339.5962 L204.8433,342.8418 L210.1143,342.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="220" y="344.291">KeyChain</text><line style="stroke:#181818;stroke-width:0.5;" x1="192" x2="286" y1="355" y2="355"/><line style="stroke:#181818;stroke-width:0.5;" x1="192" x2="286" y1="363" y2="363"/></g><!--MD5=[2a04af076941991142dd6447ef7c8ea1]
class RelevantTxFilter--><g id="elem_RelevantTxFilter"><rect codeLine="8" fill="#F1F1F1" height="64.4883" id="RelevantTxFilter" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="292" y="157"/><ellipse cx="332.65" cy="173" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M336.7643,179 L329.0445,179 L329.0445,166.6069 L336.7643,166.6069 L336.7643,168.7651 L331.4933,168.7651 L331.4933,171.438 L336.2662,171.438 L336.2662,173.5962 L331.4933,173.5962 L331.4933,176.8418 L336.7643,176.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="352.35" y="178.291">RelevantTxFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="293" x2="491" y1="189" y2="189"/><ellipse cx="303" cy="200" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="312" y="206.5352">filterDefinition: Definition</text><line style="stroke:#181818;stroke-width:0.5;" x1="293" x2="491" y1="213.4883" y2="213.4883"/></g><!--MD5=[2b385e3ef8f615e58d4080ccd927babc]
class SyncBlock--><g id="elem_SyncBlock"><rect codeLine="11" fill="#F1F1F1" height="48" id="SyncBlock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="407.5" y="448"/><ellipse cx="422.5" cy="464" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M426.6143,470 L418.8945,470 L418.8945,457.6069 L426.6143,457.6069 L426.6143,459.7651 L421.3433,459.7651 L421.3433,462.438 L426.1162,462.438 L426.1162,464.5962 L421.3433,464.5962 L421.3433,467.8418 L426.6143,467.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="436.5" y="469.291">SyncBlock</text><line style="stroke:#181818;stroke-width:0.5;" x1="408.5" x2="505.5" y1="480" y2="480"/><line style="stroke:#181818;stroke-width:0.5;" x1="408.5" x2="505.5" y1="488" y2="488"/></g><!--MD5=[aaa82ee819e409c7f47a0f1375d8e1e8]
class SyncTransaction--><g id="elem_SyncTransaction"><rect codeLine="12" fill="#F1F1F1" height="48" id="SyncTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="376" y="323"/><ellipse cx="391" cy="339" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M395.1143,345 L387.3945,345 L387.3945,332.6069 L395.1143,332.6069 L395.1143,334.7651 L389.8433,334.7651 L389.8433,337.438 L394.6162,337.438 L394.6162,339.5962 L389.8433,339.5962 L389.8433,342.8418 L395.1143,342.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="405" y="344.291">SyncTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="377" x2="519" y1="355" y2="355"/><line style="stroke:#181818;stroke-width:0.5;" x1="377" x2="519" y1="363" y2="363"/></g><!--MD5=[0164bdab82738efd25435ed1b870118f]
class RelevantTransaction--><g id="elem_RelevantTransaction"><rect codeLine="13" fill="#F1F1F1" height="48" id="RelevantTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="550.5" y="448"/><ellipse cx="565.5" cy="464" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M569.6143,470 L561.8945,470 L561.8945,457.6069 L569.6143,457.6069 L569.6143,459.7651 L564.3433,459.7651 L564.3433,462.438 L569.1162,462.438 L569.1162,464.5962 L564.3433,464.5962 L564.3433,467.8418 L569.6143,467.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="579.5" y="469.291">RelevantTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="551.5" x2="720.5" y1="480" y2="480"/><line style="stroke:#181818;stroke-width:0.5;" x1="551.5" x2="720.5" y1="488" y2="488"/></g><!--MD5=[4899691ac04b654407999835b9998e46]
class TransactionHistory--><g id="elem_TransactionHistory"><rect codeLine="14" fill="#F1F1F1" height="48" id="TransactionHistory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="555.5" y="323"/><ellipse cx="570.5" cy="339" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M574.6143,345 L566.8945,345 L566.8945,332.6069 L574.6143,332.6069 L574.6143,334.7651 L569.3433,334.7651 L569.3433,337.438 L574.1162,337.438 L574.1162,339.5962 L569.3433,339.5962 L569.3433,342.8418 L574.6143,342.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="584.5" y="344.291">TransactionHistory</text><line style="stroke:#181818;stroke-width:0.5;" x1="556.5" x2="715.5" y1="355" y2="355"/><line style="stroke:#181818;stroke-width:0.5;" x1="556.5" x2="715.5" y1="363" y2="363"/></g><!--MD5=[43c3931aad95f43f65e651b4a617536c]
class DAppConnection--><g id="elem_DAppConnection"><rect codeLine="15" fill="#F1F1F1" height="48" id="DAppConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="751.5" y="323"/><ellipse cx="766.5" cy="339" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M770.6143,345 L762.8945,345 L762.8945,332.6069 L770.6143,332.6069 L770.6143,334.7651 L765.3433,334.7651 L765.3433,337.438 L770.1162,337.438 L770.1162,339.5962 L765.3433,339.5962 L765.3433,342.8418 L770.6143,342.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="780.5" y="344.291">DAppConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="752.5" x2="899.5" y1="355" y2="355"/><line style="stroke:#181818;stroke-width:0.5;" x1="752.5" x2="899.5" y1="363" y2="363"/></g><!--MD5=[deb3a582903b940fb493d0df4fa00845]
class WalletBackendConnection--><g id="elem_WalletBackendConnection"><rect codeLine="16" fill="#F1F1F1" height="48" id="WalletBackendConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="354.5" y="557"/><ellipse cx="369.5" cy="573" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M373.6143,579 L365.8945,579 L365.8945,566.6069 L373.6143,566.6069 L373.6143,568.7651 L368.3433,568.7651 L368.3433,571.438 L373.1162,571.438 L373.1162,573.5962 L368.3433,573.5962 L368.3433,576.8418 L373.6143,576.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="383.5" y="578.291">WalletBackendConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="355.5" x2="562.5" y1="589" y2="589"/><line style="stroke:#181818;stroke-width:0.5;" x1="355.5" x2="562.5" y1="597" y2="597"/></g><!--MD5=[f18cbbd586a3bb29b8d64278e80b7c4d]
class StateSnapshot--><g id="elem_StateSnapshot"><rect codeLine="17" fill="#F1F1F1" height="113.9531" id="StateSnapshot" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217" x="527.5" y="132"/><ellipse cx="582.75" cy="148" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M586.8643,154 L579.1445,154 L579.1445,141.6069 L586.8643,141.6069 L586.8643,143.7651 L581.5933,143.7651 L581.5933,146.438 L586.3662,146.438 L586.3662,148.5962 L581.5933,148.5962 L581.5933,151.8418 L586.8643,151.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="603.25" y="153.291">StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="528.5" x2="743.5" y1="164" y2="164"/><ellipse cx="538.5" cy="175" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="547.5" y="181.5352">newEvents: WalletEvent</text><ellipse cx="538.5" cy="191.4883" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="547.5" y="198.0234">derivedState : DerivedState</text><ellipse cx="538.5" cy="207.9766" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="547.5" y="214.5117">knownAddresses: Address[]</text><ellipse cx="538.5" cy="224.4648" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="547.5" y="231">balance: Balance</text><line style="stroke:#181818;stroke-width:0.5;" x1="528.5" x2="743.5" y1="237.9531" y2="237.9531"/></g><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><g id="elem_Wallet"><rect codeLine="23" fill="#F1F1F1" height="64.4883" id="Wallet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="282" y="7"/><ellipse cx="367.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M371.3643,29 L363.6445,29 L363.6445,16.6069 L371.3643,16.6069 L371.3643,18.7651 L366.0933,18.7651 L366.0933,21.438 L370.8662,21.438 L370.8662,23.5962 L366.0933,23.5962 L366.0933,26.8418 L371.3643,26.8418 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="387.75" y="28.291">Wallet</text><line style="stroke:#181818;stroke-width:0.5;" x1="283" x2="501" y1="39" y2="39"/><ellipse cx="293" cy="50" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="302" y="56.5352">lastSnapshot: StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="283" x2="501" y1="63.4883" y2="63.4883"/></g><!--MD5=[a4e4d8ff56731b9cc6b70ddca056ea7b]
link Wallet to StateSnapshot--><g id="link_Wallet_StateSnapshot"><path codeLine="27" d="M450.11,75.25 C475.95,90.92 507.12,109.83 536.49,127.64 " fill="none" id="Wallet-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.6728" x2="546.6253" y1="127.7463" y2="126.7721"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.6728" x2="540.3947" y1="127.7463" y2="137.0279"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.6728" x2="543.51" y1="127.7463" y2="131.9"/><line style="stroke:#181818;stroke-width:1.0;" x1="537.0404" x2="532.8867" y1="123.2893" y2="130.1265"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.5001" x2="448.6434" y1="76.5234" y2="69.6799"/><line style="stroke:#181818;stroke-width:1.0;" x1="447.0664" x2="451.2097" y1="78.0771" y2="71.2336"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.9935" x2="443.15" y1="75.1732" y2="71.03"/></g><!--MD5=[f4aaeb60564af7e2b0ee51d26ab97764]
link Wallet to KeyChain--><g id="link_Wallet_KeyChain"><path codeLine="28" d="M329.89,75.12 C308.96,90.01 287.51,109.23 274,132 C239.51,190.16 236.19,272.05 237.28,315.74 " fill="none" id="Wallet-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.3757" x2="233.3795" y1="318.8095" y2="319.0543"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.2839" x2="233.2877" y1="315.8109" y2="316.0557"/><line style="stroke:#181818;stroke-width:1.0;" x1="237.2552" x2="237.5" y1="314.9337" y2="322.93"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.2144" x2="334.7681" y1="70.0181" y2="76.5956"/><line style="stroke:#181818;stroke-width:1.0;" x1="327.7478" x2="332.3015" y1="71.7257" y2="78.3032"/><line style="stroke:#181818;stroke-width:1.0;" x1="329.2025" x2="335.78" y1="75.5837" y2="71.03"/></g><!--MD5=[eac7d97cbb1d1f5ca7d64b87306b5bd1]
link Wallet to RelevantTxFilter--><g id="link_Wallet_RelevantTxFilter"><path codeLine="29" d="M392,79.31 C392,100.7 392,127.09 392,148.52 " fill="none" id="Wallet-RelevantTxFilter" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="392" x2="398" y1="148.76" y2="156.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="392" x2="386" y1="148.76" y2="156.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="392" x2="392" y1="148.76" y2="156.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="396" x2="388" y1="146.76" y2="146.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="388" x2="396" y1="75.03" y2="75.03"/><line style="stroke:#181818;stroke-width:1.0;" x1="388" x2="396" y1="78.03" y2="78.03"/><line style="stroke:#181818;stroke-width:1.0;" x1="392" x2="392" y1="79.03" y2="71.03"/></g><!--MD5=[57bb2d1dd60281233820eafac1c03891]
link StateSnapshot to TransactionHistory--><g id="link_StateSnapshot_TransactionHistory"><path codeLine="31" d="M636,254.45 C636,275.25 636,297.39 636,314.68 " fill="none" id="StateSnapshot-TransactionHistory" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="640" x2="632" y1="318.75" y2="318.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="640" x2="632" y1="315.75" y2="315.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="636" y1="314.75" y2="322.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="630" y1="254.32" y2="246.32"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="642" y1="254.32" y2="246.32"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="636" y1="254.32" y2="246.32"/><line style="stroke:#181818;stroke-width:1.0;" x1="632" x2="640" y1="256.32" y2="256.32"/></g><!--MD5=[c4f3e82f27b32a11313cf9a67f530cbb]
link StateSnapshot to StateSnapshot--><g id="link_StateSnapshot_StateSnapshot"><path codeLine="32" d="M752.83,174.65 C768.83,177.04 779.5,181.82 779.5,189 C779.5,196.18 768.83,200.96 752.83,203.35 " fill="none" id="StateSnapshot-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="749.0067" x2="748.0794" y1="207.8394" y2="199.8933"/><line style="stroke:#181818;stroke-width:1.0;" x1="751.9865" x2="751.0592" y1="207.4917" y2="199.5456"/><line style="stroke:#181818;stroke-width:1.0;" x1="752.5161" x2="744.57" y1="203.4027" y2="204.33"/><line style="stroke:#181818;stroke-width:1.0;" x1="755.4959" x2="744.57" y1="174.945" y2="173.67"/><ellipse cx="755.4959" cy="174.945" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.0794" x2="749.0067" y1="178.1067" y2="170.1606"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="785.5" y="194.0684">previous</text></g><!--MD5=[45dc4411079e1d24527a88f21fc8d174]
link TransactionHistory to RelevantTransaction--><g id="link_TransactionHistory_RelevantTransaction"><path codeLine="34" d="M636,379.28 C636,397.84 636,421.29 636,439.83 " fill="none" id="TransactionHistory-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="642" y1="439.97" y2="447.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="630" y1="439.97" y2="447.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="636" y1="439.97" y2="447.97"/><ellipse cx="636" cy="433.97" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="630" y1="379.14" y2="371.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="642" y1="379.14" y2="371.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="636" x2="636" y1="379.14" y2="371.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="632" x2="640" y1="381.14" y2="381.14"/></g><!--MD5=[9e748b3115b6e9e7da39921cf4e9ae8c]
link DAppConnection to RelevantTransaction--><g id="link_DAppConnection_RelevantTransaction"><path codeLine="36" d="M783.28,375.65 C751.99,395.91 709.7,423.29 678.47,443.51 " fill="none" id="DAppConnection-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678.2973" x2="674.8386" y1="443.6252" y2="453.008"/><line style="stroke:#181818;stroke-width:1.0;" x1="678.2973" x2="668.3214" y1="443.6252" y2="442.932"/><line style="stroke:#181818;stroke-width:1.0;" x1="678.2973" x2="671.58" y1="443.6252" y2="447.97"/><ellipse cx="683.3353" cy="440.3666" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="783.5427" x2="787.0014" y1="375.4848" y2="366.102"/><line style="stroke:#181818;stroke-width:1.0;" x1="783.5427" x2="793.5186" y1="375.4848" y2="376.178"/><line style="stroke:#181818;stroke-width:1.0;" x1="783.5427" x2="790.26" y1="375.4848" y2="371.14"/><ellipse cx="778.5047" cy="378.7434" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e593a9063d6d218de3dd7d4551c6346d]
link SyncBlock to WalletBackendConnection--><g id="link_SyncBlock_WalletBackendConnection"><path codeLine="37" d="M457.59,504.61 C457.85,518.48 458.15,534.71 458.41,548.56 " fill="none" id="SyncBlock-WalletBackendConnection" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.3736" x2="458.57" y1="545.8318" y2="556.83"/><ellipse cx="458.3736" cy="545.8318" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="462.4979" x2="454.4992" y1="552.7592" y2="552.9021"/><line style="stroke:#181818;stroke-width:1.0;" x1="457.5871" x2="451.4312" y1="504.2185" y2="496.3378"/><line style="stroke:#181818;stroke-width:1.0;" x1="457.5871" x2="463.4288" y1="504.2185" y2="496.1022"/><line style="stroke:#181818;stroke-width:1.0;" x1="457.5871" x2="457.43" y1="504.2185" y2="496.22"/><ellipse cx="457.7049" cy="510.2173" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[05ca6f8a6d4981b0b974291c7d72e718]
link SyncTransaction to RelevantTransaction--><g id="link_SyncTransaction_RelevantTransaction"><path codeLine="38" d="M490.27,375.65 C521.23,395.91 563.08,423.29 593.98,443.51 " fill="none" id="SyncTransaction-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591.6023" x2="600.8" y1="441.9365" y2="447.97"/><ellipse cx="591.6023" cy="441.9365" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="599.6494" x2="595.2614" y1="442.4314" y2="449.1206"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.516" x2="488.8975" y1="376.6775" y2="369.984"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.0261" x2="491.4075" y1="378.3205" y2="371.627"/><line style="stroke:#181818;stroke-width:1.0;" x1="490.0535" x2="483.36" y1="375.5215" y2="371.14"/></g><!--MD5=[2aa3d5120051f38458f41a21db7af8ae]
link SyncTransaction to SyncBlock--><g id="link_SyncTransaction_SyncBlock"><path codeLine="39" d="M450.29,379.28 C451.65,397.84 453.36,421.29 454.72,439.83 " fill="none" id="SyncTransaction-SyncBlock" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="459.0138" x2="451.0342" y1="443.6942" y2="444.2662"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.7993" x2="450.8197" y1="440.7019" y2="441.2739"/><line style="stroke:#181818;stroke-width:1.0;" x1="454.738" x2="455.31" y1="439.9905" y2="447.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="450.2752" x2="443.7061" y1="379.1186" y2="371.5789"/><line style="stroke:#181818;stroke-width:1.0;" x1="450.2752" x2="455.6739" y1="379.1186" y2="370.7011"/><line style="stroke:#181818;stroke-width:1.0;" x1="450.2752" x2="449.69" y1="379.1186" y2="371.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.4322" x2="454.4108" y1="381.4058" y2="380.8206"/></g><!--MD5=[04109ef3968592d3e04ba9087877e9e5]
link RelevantTxFilter to KeyChain--><g id="link_RelevantTxFilter_KeyChain"><path codeLine="42" d="M355.72,226.99 C328.68,254.56 292.27,291.68 267.35,317.09 " fill="none" id="RelevantTxFilter-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="269.2892" x2="261.59" y1="315.1137" y2="322.97"/><ellipse cx="269.2892" cy="315.1137" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="267.2466" x2="261.5329" y1="322.9129" y2="317.3134"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.7533" x2="361.4529" y1="221.2329" y2="226.8467"/><line style="stroke:#181818;stroke-width:1.0;" x1="353.6481" x2="359.3477" y1="223.3702" y2="228.984"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.7962" x2="361.41" y1="226.8895" y2="221.19"/></g><!--MD5=[c07850bce0ea29074ca441d0105ae29c]
link RelevantTxFilter to SyncTransaction--><g id="link_RelevantTxFilter_SyncTransaction"><path codeLine="43" d="M405.95,228.87 C415.54,255.58 428.1,290.56 436.98,315.31 " fill="none" id="RelevantTxFilter-SyncTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="437.0294" x2="445.3778" y1="315.4396" y2="320.9445"/><line style="stroke:#181818;stroke-width:1.0;" x1="437.0294" x2="434.0822" y1="315.4396" y2="324.9955"/><line style="stroke:#181818;stroke-width:1.0;" x1="437.0294" x2="439.73" y1="315.4396" y2="322.97"/><ellipse cx="435.0039" cy="309.7918" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="400.7851" x2="408.3155" y1="226.3055" y2="223.6049"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.7979" x2="409.3283" y1="229.1294" y2="226.4288"/><line style="stroke:#181818;stroke-width:1.0;" x1="405.9006" x2="403.2" y1="228.7204" y2="221.19"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="430" y="289.5684">accepts or rejects</text></g><!--MD5=[46a40e25e98bf184adec2c33e3c821f4]
link KeyChain to ViewingKey--><g id="link_KeyChain_ViewingKey"><path codeLine="45" d="M183.82,351.65 C147.66,357.04 102.22,370.02 75,401 C65.57,411.73 62,427.05 60.93,440.61 " fill="none" id="KeyChain-ViewingKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.7613" x2="56.7709" y1="444.1309" y2="443.7387"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.9083" x2="56.918" y1="441.1345" y2="440.7423"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.9622" x2="60.57" y1="439.9396" y2="447.93"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.4081" x2="187.4847" y1="347.2447" y2="355.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="183.4354" x2="184.5119" y1="347.6484" y2="355.5756"/><line style="stroke:#181818;stroke-width:1.0;" x1="182.9828" x2="190.91" y1="351.7465" y2="350.67"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="76" y="414.5684">derives from private key</text></g><!--MD5=[111cd2fe4ae85a005e9d115304bf4493]
link KeyChain to KeyStore--><g id="link_KeyChain_KeyStore"><path codeLine="46" d="M238.02,378.15 C237.4,397.25 236.6,421.86 235.98,440.95 " fill="none" id="KeyChain-KeyStore" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="239.8784" x2="231.8827" y1="444.1027" y2="443.8416"/><line style="stroke:#181818;stroke-width:1.0;" x1="239.9763" x2="231.9806" y1="441.1043" y2="440.8432"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.0111" x2="235.75" y1="439.9743" y2="447.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.1216" x2="242.1173" y1="375.0073" y2="375.2684"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.0237" x2="242.0194" y1="378.0057" y2="378.2668"/><line style="stroke:#181818;stroke-width:1.0;" x1="237.9889" x2="238.25" y1="379.1357" y2="371.14"/></g><!--MD5=[046f29df0507760fd8842fa727e2ee0d]
link KeyStore to EncryptedPrivateKey--><g id="link_KeyStore_EncryptedPrivateKey"><path codeLine="47" d="M234.72,503.24 C234.58,517.72 234.42,535.02 234.28,549.53 " fill="none" id="KeyStore-EncryptedPrivateKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="238.2525" x2="230.2528" y1="552.8628" y2="552.7975"/><line style="stroke:#181818;stroke-width:1.0;" x1="238.277" x2="230.2773" y1="549.8629" y2="549.7976"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.2853" x2="234.22" y1="548.8303" y2="556.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="230.7394" x2="238.739" y1="500.179" y2="500.2606"/><line style="stroke:#181818;stroke-width:1.0;" x1="230.7088" x2="238.7084" y1="503.1788" y2="503.2604"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.6984" x2="234.78" y1="504.2196" y2="496.22"/></g><!--MD5=[835566336322032206390bc77b141549]
@startuml

entity EncryptedPrivateKey {}
entity ViewingKey {

}
entity KeyStore {}
entity KeyChain {}
entity RelevantTxFilter {
  * filterDefinition: Definition
}
entity SyncBlock {}
entity SyncTransaction {}
entity RelevantTransaction {}
entity TransactionHistory {}
entity DAppConnection {}
entity WalletBackendConnection {}
entity StateSnapshot {
  * newEvents: WalletEvent
  * derivedState : DerivedState
  * knownAddresses: Address[]
  * balance: Balance
}
entity Wallet {
  * lastSnapshot: StateSnapshot
}

Wallet ||- -|{ StateSnapshot
Wallet ||- -|| KeyChain
Wallet ||- -|{ RelevantTxFilter

StateSnapshot }|- -|| TransactionHistory
StateSnapshot |o- -|| StateSnapshot : previous

TransactionHistory }|- -o{ RelevantTransaction

DAppConnection }o- -o{ RelevantTransaction
SyncBlock }o- -o| WalletBackendConnection
SyncTransaction ||- -o| RelevantTransaction
SyncTransaction }|- -|| SyncBlock


RelevantTxFilter ||- -o| KeyChain
RelevantTxFilter ||- -o{ SyncTransaction : accepts or rejects

KeyChain ||- -|| ViewingKey : derives from private key
KeyChain ||- -|| KeyStore
KeyStore ||- -|| EncryptedPrivateKey
@enduml

PlantUML version 1.2022.4(Sat Apr 09 15:29:17 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PL
--></g></svg>