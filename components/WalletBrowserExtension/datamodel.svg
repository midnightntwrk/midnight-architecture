<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="611px" preserveAspectRatio="none" style="width:906px;height:611px;background:#FFFFFF;" version="1.1" viewBox="0 0 906 611" width="906px" zoomAndPan="magnify"><defs/><g><!--MD5=[2bb3ae8521833b2439d654d03182b239]
class EncryptedPrivateKey--><g id="elem_EncryptedPrivateKey"><rect codeLine="2" fill="#F1F1F1" height="48" id="EncryptedPrivateKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="147.5" y="556"/><ellipse cx="162.5" cy="572" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M157.6719,565.5781 L166.0313,565.5781 L166.0313,567.5156 L159.875,567.5156 L159.875,570.6563 L165.7813,570.6563 L165.7813,572.5938 L159.875,572.5938 L159.875,576.5625 L166.1875,576.5625 L166.1875,578.5 L157.6719,578.5 L157.6719,565.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="176.5" y="576.8467">EncryptedPrivateKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="148.5" x2="319.5" y1="588" y2="588"/><line style="stroke:#181818;stroke-width:0.5;" x1="148.5" x2="319.5" y1="596" y2="596"/></g><!--MD5=[b43eda3cf1795c310d0fc3c6dcee7a72]
class ViewingKey--><g id="elem_ViewingKey"><rect codeLine="3" fill="#F1F1F1" height="48" id="ViewingKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="7" y="447"/><ellipse cx="22" cy="463" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M17.1719,456.5781 L25.5313,456.5781 L25.5313,458.5156 L19.375,458.5156 L19.375,461.6563 L25.2813,461.6563 L25.2813,463.5938 L19.375,463.5938 L19.375,467.5625 L25.6875,467.5625 L25.6875,469.5 L17.1719,469.5 L17.1719,456.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="36" y="467.8467">ViewingKey</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="479" y2="479"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="116" y1="487" y2="487"/></g><!--MD5=[c6d153f9551dd3a00861177ea9d737c1]
class KeyStore--><g id="elem_KeyStore"><rect codeLine="6" fill="#F1F1F1" height="48" id="KeyStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="190" y="447"/><ellipse cx="205" cy="463" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M200.1719,456.5781 L208.5313,456.5781 L208.5313,458.5156 L202.375,458.5156 L202.375,461.6563 L208.2813,461.6563 L208.2813,463.5938 L202.375,463.5938 L202.375,467.5625 L208.6875,467.5625 L208.6875,469.5 L200.1719,469.5 L200.1719,456.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="219" y="467.8467">KeyStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="191" x2="283" y1="479" y2="479"/><line style="stroke:#181818;stroke-width:0.5;" x1="191" x2="283" y1="487" y2="487"/></g><!--MD5=[79593acfb0305ecf9e101e13abf886b9]
class KeyChain--><g id="elem_KeyChain"><rect codeLine="7" fill="#F1F1F1" height="48" id="KeyChain" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="193" y="322"/><ellipse cx="208" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M203.1719,331.5781 L211.5313,331.5781 L211.5313,333.5156 L205.375,333.5156 L205.375,336.6563 L211.2813,336.6563 L211.2813,338.5938 L205.375,338.5938 L205.375,342.5625 L211.6875,342.5625 L211.6875,344.5 L203.1719,344.5 L203.1719,331.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="222" y="342.8467">KeyChain</text><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="288" y1="354" y2="354"/><line style="stroke:#181818;stroke-width:0.5;" x1="194" x2="288" y1="362" y2="362"/></g><!--MD5=[2a04af076941991142dd6447ef7c8ea1]
class RelevantTxFilter--><g id="elem_RelevantTxFilter"><rect codeLine="8" fill="#F1F1F1" height="64.2969" id="RelevantTxFilter" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="294" y="156.5"/><ellipse cx="332.85" cy="172.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M328.0219,166.0781 L336.3813,166.0781 L336.3813,168.0156 L330.225,168.0156 L330.225,171.1563 L336.1313,171.1563 L336.1313,173.0938 L330.225,173.0938 L330.225,177.0625 L336.5375,177.0625 L336.5375,179 L328.0219,179 L328.0219,166.0781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="352.15" y="177.3467">RelevantTxFilter</text><line style="stroke:#181818;stroke-width:0.5;" x1="295" x2="487" y1="188.5" y2="188.5"/><ellipse cx="305" cy="199.5" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="314" y="205.4951">filterDefinition: Definition</text><line style="stroke:#181818;stroke-width:0.5;" x1="295" x2="487" y1="212.7969" y2="212.7969"/></g><!--MD5=[2b385e3ef8f615e58d4080ccd927babc]
class SyncBlock--><g id="elem_SyncBlock"><rect codeLine="11" fill="#F1F1F1" height="48" id="SyncBlock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="405.5" y="447"/><ellipse cx="420.5" cy="463" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M415.6719,456.5781 L424.0313,456.5781 L424.0313,458.5156 L417.875,458.5156 L417.875,461.6563 L423.7813,461.6563 L423.7813,463.5938 L417.875,463.5938 L417.875,467.5625 L424.1875,467.5625 L424.1875,469.5 L415.6719,469.5 L415.6719,456.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="434.5" y="467.8467">SyncBlock</text><line style="stroke:#181818;stroke-width:0.5;" x1="406.5" x2="507.5" y1="479" y2="479"/><line style="stroke:#181818;stroke-width:0.5;" x1="406.5" x2="507.5" y1="487" y2="487"/></g><!--MD5=[aaa82ee819e409c7f47a0f1375d8e1e8]
class SyncTransaction--><g id="elem_SyncTransaction"><rect codeLine="12" fill="#F1F1F1" height="48" id="SyncTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="373" y="322"/><ellipse cx="388" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M383.1719,331.5781 L391.5313,331.5781 L391.5313,333.5156 L385.375,333.5156 L385.375,336.6563 L391.2813,336.6563 L391.2813,338.5938 L385.375,338.5938 L385.375,342.5625 L391.6875,342.5625 L391.6875,344.5 L383.1719,344.5 L383.1719,331.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="402" y="342.8467">SyncTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="374" x2="518" y1="354" y2="354"/><line style="stroke:#181818;stroke-width:0.5;" x1="374" x2="518" y1="362" y2="362"/></g><!--MD5=[0164bdab82738efd25435ed1b870118f]
class RelevantTransaction--><g id="elem_RelevantTransaction"><rect codeLine="13" fill="#F1F1F1" height="48" id="RelevantTransaction" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="547.5" y="447"/><ellipse cx="562.5" cy="463" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M557.6719,456.5781 L566.0313,456.5781 L566.0313,458.5156 L559.875,458.5156 L559.875,461.6563 L565.7813,461.6563 L565.7813,463.5938 L559.875,463.5938 L559.875,467.5625 L566.1875,467.5625 L566.1875,469.5 L557.6719,469.5 L557.6719,456.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="576.5" y="467.8467">RelevantTransaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="548.5" x2="719.5" y1="479" y2="479"/><line style="stroke:#181818;stroke-width:0.5;" x1="548.5" x2="719.5" y1="487" y2="487"/></g><!--MD5=[4899691ac04b654407999835b9998e46]
class TransactionHistory--><g id="elem_TransactionHistory"><rect codeLine="14" fill="#F1F1F1" height="48" id="TransactionHistory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="554" y="322"/><ellipse cx="569" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M564.1719,331.5781 L572.5313,331.5781 L572.5313,333.5156 L566.375,333.5156 L566.375,336.6563 L572.2813,336.6563 L572.2813,338.5938 L566.375,338.5938 L566.375,342.5625 L572.6875,342.5625 L572.6875,344.5 L564.1719,344.5 L564.1719,331.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="583" y="342.8467">TransactionHistory</text><line style="stroke:#181818;stroke-width:0.5;" x1="555" x2="713" y1="354" y2="354"/><line style="stroke:#181818;stroke-width:0.5;" x1="555" x2="713" y1="362" y2="362"/></g><!--MD5=[43c3931aad95f43f65e651b4a617536c]
class DAppConnection--><g id="elem_DAppConnection"><rect codeLine="15" fill="#F1F1F1" height="48" id="DAppConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="749" y="322"/><ellipse cx="764" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M759.1719,331.5781 L767.5313,331.5781 L767.5313,333.5156 L761.375,333.5156 L761.375,336.6563 L767.2813,336.6563 L767.2813,338.5938 L761.375,338.5938 L761.375,342.5625 L767.6875,342.5625 L767.6875,344.5 L759.1719,344.5 L759.1719,331.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="778" y="342.8467">DAppConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="750" x2="898" y1="354" y2="354"/><line style="stroke:#181818;stroke-width:0.5;" x1="750" x2="898" y1="362" y2="362"/></g><!--MD5=[deb3a582903b940fb493d0df4fa00845]
class WalletBackendConnection--><g id="elem_WalletBackendConnection"><rect codeLine="16" fill="#F1F1F1" height="48" id="WalletBackendConnection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="356" y="556"/><ellipse cx="371" cy="572" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M366.1719,565.5781 L374.5313,565.5781 L374.5313,567.5156 L368.375,567.5156 L368.375,570.6563 L374.2813,570.6563 L374.2813,572.5938 L368.375,572.5938 L368.375,576.5625 L374.6875,576.5625 L374.6875,578.5 L366.1719,578.5 L366.1719,565.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="385" y="576.8467">WalletBackendConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="357" x2="569" y1="588" y2="588"/><line style="stroke:#181818;stroke-width:0.5;" x1="357" x2="569" y1="596" y2="596"/></g><!--MD5=[f18cbbd586a3bb29b8d64278e80b7c4d]
class StateSnapshot--><g id="elem_StateSnapshot"><rect codeLine="17" fill="#F1F1F1" height="113.1875" id="StateSnapshot" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="222" x="523" y="132"/><ellipse cx="578.75" cy="148" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M573.9219,141.5781 L582.2813,141.5781 L582.2813,143.5156 L576.125,143.5156 L576.125,146.6563 L582.0313,146.6563 L582.0313,148.5938 L576.125,148.5938 L576.125,152.5625 L582.4375,152.5625 L582.4375,154.5 L573.9219,154.5 L573.9219,141.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="599.25" y="152.8467">StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="524" x2="744" y1="164" y2="164"/><ellipse cx="534" cy="175" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="543" y="180.9951">newEvents: WalletEvent</text><ellipse cx="534" cy="191.2969" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="543" y="197.292">derivedState : DerivedState</text><ellipse cx="534" cy="207.5938" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="543" y="213.5889">knownAddresses: Address[]</text><ellipse cx="534" cy="223.8906" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="543" y="229.8857">balance: Balance</text><line style="stroke:#181818;stroke-width:0.5;" x1="524" x2="744" y1="237.1875" y2="237.1875"/></g><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><g id="elem_Wallet"><rect codeLine="23" fill="#F1F1F1" height="64.2969" id="Wallet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="227" x="277.5" y="7"/><ellipse cx="366.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M361.4219,16.5781 L369.7813,16.5781 L369.7813,18.5156 L363.625,18.5156 L363.625,21.6563 L369.5313,21.6563 L369.5313,23.5938 L363.625,23.5938 L363.625,27.5625 L369.9375,27.5625 L369.9375,29.5 L361.4219,29.5 L361.4219,16.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="386.75" y="27.8467">Wallet</text><line style="stroke:#181818;stroke-width:0.5;" x1="278.5" x2="503.5" y1="39" y2="39"/><ellipse cx="288.5" cy="50" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="297.5" y="55.9951">lastSnapshot: StateSnapshot</text><line style="stroke:#181818;stroke-width:0.5;" x1="278.5" x2="503.5" y1="63.2969" y2="63.2969"/></g><!--MD5=[a4e4d8ff56731b9cc6b70ddca056ea7b]
link Wallet to StateSnapshot--><g id="link_Wallet_StateSnapshot"><path codeLine="27" d="M449.17,75.31 C474.91,90.93 505.92,109.75 535.12,127.48 " fill="none" id="Wallet-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="535.2565" x2="545.2074" y1="127.5768" y2="126.5874"/><line style="stroke:#181818;stroke-width:1.0;" x1="535.2565" x2="538.9926" y1="127.5768" y2="136.8526"/><line style="stroke:#181818;stroke-width:1.0;" x1="535.2565" x2="542.1" y1="127.5768" y2="131.72"/><line style="stroke:#181818;stroke-width:1.0;" x1="535.6172" x2="531.474" y1="123.1192" y2="129.9627"/><line style="stroke:#181818;stroke-width:1.0;" x1="443.5817" x2="447.7354" y1="76.5954" y2="69.7583"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.1457" x2="450.2994" y1="78.1531" y2="71.3159"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.0772" x2="442.24" y1="75.2537" y2="71.1"/></g><!--MD5=[f4aaeb60564af7e2b0ee51d26ab97764]
link Wallet to KeyChain--><g id="link_Wallet_KeyChain"><path codeLine="28" d="M330.75,75.22 C310.26,90.17 289.22,109.41 276,132 C242.09,189.94 238.5,271.09 239.4,314.6 " fill="none" id="Wallet-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="243.4839" x2="235.4872" y1="317.6472" y2="317.8761"/><line style="stroke:#181818;stroke-width:1.0;" x1="243.398" x2="235.4013" y1="314.6484" y2="314.8773"/><line style="stroke:#181818;stroke-width:1.0;" x1="239.3711" x2="239.6" y1="313.7633" y2="321.76"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.9217" x2="335.5607" y1="70.1807" y2="76.6983"/><line style="stroke:#181818;stroke-width:1.0;" x1="328.4776" x2="333.1167" y1="71.9204" y2="78.438"/><line style="stroke:#181818;stroke-width:1.0;" x1="329.9824" x2="336.5" y1="75.7591" y2="71.12"/></g><!--MD5=[eac7d97cbb1d1f5ca7d64b87306b5bd1]
link Wallet to RelevantTxFilter--><g id="link_Wallet_RelevantTxFilter"><path codeLine="29" d="M391,79.51 C391,100.75 391,126.86 391,148.09 " fill="none" id="Wallet-RelevantTxFilter" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="391" x2="397" y1="148.26" y2="156.26"/><line style="stroke:#181818;stroke-width:1.0;" x1="391" x2="385" y1="148.26" y2="156.26"/><line style="stroke:#181818;stroke-width:1.0;" x1="391" x2="391" y1="148.26" y2="156.26"/><line style="stroke:#181818;stroke-width:1.0;" x1="395" x2="387" y1="146.26" y2="146.26"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="395" y1="75.28" y2="75.28"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="395" y1="78.28" y2="78.28"/><line style="stroke:#181818;stroke-width:1.0;" x1="391" x2="391" y1="79.28" y2="71.28"/></g><!--MD5=[57bb2d1dd60281233820eafac1c03891]
link StateSnapshot to TransactionHistory--><g id="link_StateSnapshot_TransactionHistory"><path codeLine="31" d="M634,253.32 C634,274.11 634,296.27 634,313.6 " fill="none" id="StateSnapshot-TransactionHistory" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="638" x2="630" y1="317.69" y2="317.69"/><line style="stroke:#181818;stroke-width:1.0;" x1="638" x2="630" y1="314.69" y2="314.69"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="634" y1="313.69" y2="321.69"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="628" y1="253.2" y2="245.2"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="640" y1="253.2" y2="245.2"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="634" y1="253.2" y2="245.2"/><line style="stroke:#181818;stroke-width:1.0;" x1="630" x2="638" y1="255.2" y2="255.2"/></g><!--MD5=[c4f3e82f27b32a11313cf9a67f530cbb]
link StateSnapshot to StateSnapshot--><g id="link_StateSnapshot_StateSnapshot"><path codeLine="32" d="M753.35,174.22 C769.36,176.63 780,181.39 780,188.5 C780,195.61 769.36,200.37 753.35,202.78 " fill="none" id="StateSnapshot-StateSnapshot" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="749.5336" x2="748.5906" y1="207.2706" y2="199.3264"/><line style="stroke:#181818;stroke-width:1.0;" x1="752.5127" x2="751.5697" y1="206.917" y2="198.9727"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.0342" x2="745.09" y1="202.827" y2="203.77"/><line style="stroke:#181818;stroke-width:1.0;" x1="756.0133" x2="745.09" y1="174.5267" y2="173.23"/><ellipse cx="756.0133" cy="174.5267" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5906" x2="749.5336" y1="177.6736" y2="169.7294"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="786" y="193.0669">previous</text></g><!--MD5=[45dc4411079e1d24527a88f21fc8d174]
link TransactionHistory to RelevantTransaction--><g id="link_TransactionHistory_RelevantTransaction"><path codeLine="34" d="M634,378.28 C634,396.84 634,420.29 634,438.83 " fill="none" id="TransactionHistory-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="640" y1="438.97" y2="446.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="628" y1="438.97" y2="446.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="634" y1="438.97" y2="446.97"/><ellipse cx="634" cy="432.97" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="628" y1="378.14" y2="370.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="640" y1="378.14" y2="370.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="634" x2="634" y1="378.14" y2="370.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="630" x2="638" y1="380.14" y2="380.14"/></g><!--MD5=[9e748b3115b6e9e7da39921cf4e9ae8c]
link DAppConnection to RelevantTransaction--><g id="link_DAppConnection_RelevantTransaction"><path codeLine="36" d="M781.28,374.65 C749.99,394.91 707.7,422.29 676.47,442.51 " fill="none" id="DAppConnection-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.2973" x2="672.8386" y1="442.6252" y2="452.008"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.2973" x2="666.3214" y1="442.6252" y2="441.932"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.2973" x2="669.58" y1="442.6252" y2="446.97"/><ellipse cx="681.3353" cy="439.3666" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="781.5427" x2="785.0014" y1="374.4848" y2="365.102"/><line style="stroke:#181818;stroke-width:1.0;" x1="781.5427" x2="791.5186" y1="374.4848" y2="375.178"/><line style="stroke:#181818;stroke-width:1.0;" x1="781.5427" x2="788.26" y1="374.4848" y2="370.14"/><ellipse cx="776.5047" cy="377.7434" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e593a9063d6d218de3dd7d4551c6346d]
link SyncBlock to WalletBackendConnection--><g id="link_SyncBlock_WalletBackendConnection"><path codeLine="37" d="M458.77,503.61 C459.55,517.48 460.46,533.71 461.24,547.56 " fill="none" id="SyncBlock-WalletBackendConnection" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.0713" x2="461.7" y1="544.848" y2="555.83"/><ellipse cx="461.0713" cy="544.848" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="465.4649" x2="457.4779" y1="551.6079" y2="552.0651"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.7422" x2="452.3092" y1="503.2078" y2="495.5516"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.7422" x2="464.2908" y1="503.2078" y2="494.8884"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.7422" x2="458.3" y1="503.2078" y2="495.22"/><ellipse cx="459.0738" cy="509.1986" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[05ca6f8a6d4981b0b974291c7d72e718]
link SyncTransaction to RelevantTransaction--><g id="link_SyncTransaction_RelevantTransaction"><path codeLine="38" d="M488.27,374.65 C519.23,394.91 561.08,422.29 591.98,442.51 " fill="none" id="SyncTransaction-RelevantTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="589.6023" x2="598.8" y1="440.9365" y2="446.97"/><ellipse cx="589.6023" cy="440.9365" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.6494" x2="593.2614" y1="441.4314" y2="448.1206"/><line style="stroke:#181818;stroke-width:1.0;" x1="482.516" x2="486.8975" y1="375.6775" y2="368.984"/><line style="stroke:#181818;stroke-width:1.0;" x1="485.0261" x2="489.4075" y1="377.3205" y2="370.627"/><line style="stroke:#181818;stroke-width:1.0;" x1="488.0535" x2="481.36" y1="374.5215" y2="370.14"/></g><!--MD5=[2aa3d5120051f38458f41a21db7af8ae]
link SyncTransaction to SyncBlock--><g id="link_SyncTransaction_SyncBlock"><path codeLine="39" d="M448.8,378.28 C450.46,396.84 452.55,420.29 454.21,438.83 " fill="none" id="SyncTransaction-SyncBlock" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.567" x2="450.599" y1="442.629" y2="443.343"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.2993" x2="450.3312" y1="439.6409" y2="440.3549"/><line style="stroke:#181818;stroke-width:1.0;" x1="454.226" x2="454.94" y1="439.0019" y2="446.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="448.784" x2="442.0939" y1="378.1081" y2="370.6755"/><line style="stroke:#181818;stroke-width:1.0;" x1="448.784" x2="454.0461" y1="378.1081" y2="369.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="448.784" x2="448.07" y1="378.1081" y2="370.14"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.9784" x2="452.9465" y1="380.4571" y2="379.7431"/></g><!--MD5=[04109ef3968592d3e04ba9087877e9e5]
link RelevantTxFilter to KeyChain--><g id="link_RelevantTxFilter_KeyChain"><path codeLine="42" d="M355.11,226.71 C328.79,253.99 293.56,290.52 269.24,315.73 " fill="none" id="RelevantTxFilter-KeyChain" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="271.2495" x2="263.61" y1="313.6456" y2="321.56"/><ellipse cx="271.2495" cy="313.6456" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="269.266" x2="263.51" y1="321.46" y2="315.904"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.354" x2="361.11" y1="220.69" y2="226.246"/><line style="stroke:#181818;stroke-width:1.0;" x1="353.2705" x2="359.0265" y1="222.8485" y2="228.4045"/><line style="stroke:#181818;stroke-width:1.0;" x1="355.454" x2="361.01" y1="226.3459" y2="220.59"/></g><!--MD5=[c07850bce0ea29074ca441d0105ae29c]
link RelevantTxFilter to SyncTransaction--><g id="link_RelevantTxFilter_SyncTransaction"><path codeLine="43" d="M404.69,228.2 C414.05,254.66 426.29,289.27 435.01,313.93 " fill="none" id="RelevantTxFilter-SyncTransaction" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.0519" x2="443.3691" y1="314.0145" y2="319.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.0519" x2="432.0509" y1="314.0145" y2="323.5536"/><line style="stroke:#181818;stroke-width:1.0;" x1="435.0519" x2="437.71" y1="314.0145" y2="321.56"/><ellipse cx="433.0584" cy="308.3554" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5649" x2="407.1059" y1="225.6959" y2="223.0251"/><line style="stroke:#181818;stroke-width:1.0;" x1="400.5664" x2="408.1074" y1="228.5238" y2="225.853"/><line style="stroke:#181818;stroke-width:1.0;" x1="404.6708" x2="402" y1="228.131" y2="220.59"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="428" y="288.0669">accepts or rejects</text></g><!--MD5=[46a40e25e98bf184adec2c33e3c821f4]
link KeyChain to ViewingKey--><g id="link_KeyChain_ViewingKey"><path codeLine="45" d="M185.53,350.41 C148.88,355.68 102.67,368.62 75,400 C65.55,410.72 61.98,426.03 60.91,439.6 " fill="none" id="KeyChain-ViewingKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.7513" x2="56.7609" y1="443.1209" y2="442.7287"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.8983" x2="56.908" y1="440.1245" y2="439.7323"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.9522" x2="60.56" y1="438.9296" y2="446.92"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.225" x2="189.2856" y1="346.0256" y2="353.955"/><line style="stroke:#181818;stroke-width:1.0;" x1="185.2515" x2="186.312" y1="346.4233" y2="354.3526"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.7906" x2="192.72" y1="350.5205" y2="349.46"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="76" y="413.0669">derives from private key</text></g><!--MD5=[111cd2fe4ae85a005e9d115304bf4493]
link KeyChain to KeyStore--><g id="link_KeyChain_KeyStore"><path codeLine="46" d="M240.02,377.15 C239.4,396.25 238.6,420.86 237.98,439.95 " fill="none" id="KeyChain-KeyStore" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.8784" x2="233.8827" y1="443.1027" y2="442.8416"/><line style="stroke:#181818;stroke-width:1.0;" x1="241.9763" x2="233.9806" y1="440.1043" y2="439.8432"/><line style="stroke:#181818;stroke-width:1.0;" x1="238.0111" x2="237.75" y1="438.9743" y2="446.97"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.1216" x2="244.1173" y1="374.0073" y2="374.2684"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.0237" x2="244.0194" y1="377.0057" y2="377.2668"/><line style="stroke:#181818;stroke-width:1.0;" x1="239.9889" x2="240.25" y1="378.1357" y2="370.14"/></g><!--MD5=[046f29df0507760fd8842fa727e2ee0d]
link KeyStore to EncryptedPrivateKey--><g id="link_KeyStore_EncryptedPrivateKey"><path codeLine="47" d="M236.15,502.24 C235.75,516.72 235.26,534.02 234.85,548.53 " fill="none" id="KeyStore-EncryptedPrivateKey" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="238.7626" x2="230.7659" y1="551.9459" y2="551.7174"/><line style="stroke:#181818;stroke-width:1.0;" x1="238.8483" x2="230.8516" y1="548.9471" y2="548.7186"/><line style="stroke:#181818;stroke-width:1.0;" x1="234.8785" x2="234.65" y1="547.8333" y2="555.83"/><line style="stroke:#181818;stroke-width:1.0;" x1="232.2453" x2="240.2425" y1="499.1125" y2="499.3247"/><line style="stroke:#181818;stroke-width:1.0;" x1="232.1658" x2="240.1629" y1="502.1115" y2="502.3236"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.1378" x2="236.35" y1="503.2172" y2="495.22"/></g><!--MD5=[336aa66614eae4c95f7151b4b91e49ac]
@startuml

entity EncryptedPrivateKey {}
entity ViewingKey {

}
entity KeyStore {}
entity KeyChain {}
entity RelevantTxFilter {
  * filterDefinition: Definition
}
entity SyncBlock {}
entity SyncTransaction {}
entity RelevantTransaction {}
entity TransactionHistory {}
entity DAppConnection {}
entity WalletBackendConnection {}
entity StateSnapshot {
  * newEvents: WalletEvent
  * derivedState : DerivedState
  * knownAddresses: Address[]
  * balance: Balance
}
entity Wallet {
  * lastSnapshot: StateSnapshot
}

Wallet ||- -|{ StateSnapshot
Wallet ||- -|| KeyChain
Wallet ||- -|{ RelevantTxFilter

StateSnapshot }|- -|| TransactionHistory
StateSnapshot |o- -|| StateSnapshot : previous

TransactionHistory }|- -o{ RelevantTransaction

DAppConnection }o- -o{ RelevantTransaction
SyncBlock }o- -o| WalletBackendConnection
SyncTransaction ||- -o| RelevantTransaction
SyncTransaction }|- -|| SyncBlock


RelevantTxFilter ||- -o| KeyChain
RelevantTxFilter ||- -o{ SyncTransaction : accepts or rejects

KeyChain ||- -|| ViewingKey : derives from private key
KeyChain ||- -|| KeyStore
KeyStore ||- -|| EncryptedPrivateKey
@enduml

PlantUML version 1.2022.3(Tue Mar 29 16:10:57 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>