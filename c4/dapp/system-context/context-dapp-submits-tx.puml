@startuml [System Diagram] Decentralized Application
!include <C4/C4_Context>
title [System Context] Decentralized Application
Person(user, "User")
System(dapp, "Decentralized Application", "Provides application functionality to user")
Person_Ext(ipfsNodeOperator, "IPFS Node Operator")
Person_Ext(chainIndexOperator, "Chain Index Operator")
Person_Ext(midnightNodeOperator, "Midnight Provider Operator")
System_Ext(ipfsNode, "IPFS Node", "Delivers static content to SPA and browser")
System_Ext(chainIndex, "Chain Index", "Receives and indexes blockchain data")
System_Ext(midnightNode, "Midnight Provider", "Exposes Midnight Node RPC API")
System_Ext(wallet, "Lace", "Manages private keys and balances transactions")
Rel_D(ipfsNodeOperator, ipfsNode, "Operates")
Rel_R(ipfsNode, dapp, "Delivers to user browser")
Rel_R(dapp, chainIndex, "Queries")
Rel_R(chainIndexOperator, chainIndex, "Operates")
Rel_R(dapp, midnightNode, "Submits transactions using")
Rel_D(midnightNodeOperator, midnightNode, "Operates")
Rel_U(chainIndex, midnightNode, "Queries")
Rel_D(user, ipfsNode, "Visits URL")
Rel_D(user, dapp, "Uses")
Rel_U(dapp, wallet, "Balances transactions using")
Rel_D(user, wallet, "Manages tokens using")
SHOW_LEGEND()
@enduml