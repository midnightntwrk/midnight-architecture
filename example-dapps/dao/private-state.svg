<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1234px" preserveAspectRatio="none" style="width:745px;height:1234px;background:#FFFFFF;" version="1.1" viewBox="0 0 745 1234" width="745px" zoomAndPan="magnify"><defs/><g><rect height="58.8867" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="118" x="613" y="0"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="92" x="639" y="9.668">private-state.puml</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="118" x="613" y="21.4453">2024.01.08 at 12:24 CET</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="728" y="33.2227"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="728" y="45"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="728" y="56.7773"> </text><rect fill="#F1F1F1" height="1107.4844" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="731" x="7" y="66.8867"/><rect fill="#FFFFFF" height="1017.4648" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="729" x="8" y="155.9063"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="738" y1="154.9063" y2="154.9063"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="738" y1="93.375" y2="93.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="349.5" y="85.4219">Private</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="405" x="12" y="104.9766">it consists of 3 independent components which affect available actions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="389" x="12" y="119.1094">organizer depends on ledger.organizer field, which is set at deploy</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="438" x="12" y="133.2422">beneficiary depends on ledger.beneficiary field, which is set at proposal init</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="591" x="12" y="147.375">voter - anyone can try to vote, because wallet holds voting tokens and DApp does not know about this</text><rect fill="#F1F1F1" height="247.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="705" x="19" y="166.9063"/><rect fill="#FFFFFF" height="219" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="703" x="20" y="194.3945"/><line style="stroke:#181818;stroke-width:0.5;" x1="19" x2="724" y1="193.3945" y2="193.3945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="337" y="185.4414">Organizer</text><g id="elem_COrganizerCheck"><polygon fill="#F1F1F1" points="251,277.3945,263,289.3945,251,301.3945,239,289.3945,251,277.3945" style="stroke:#181818;stroke-width:0.5;"/></g><ellipse cx="251" cy="214.3945" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="Private.Organizer.ImOrganizer"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="31" y="354.3945"/><line style="stroke:#181818;stroke-width:0.5;" x1="31" x2="137" y1="380.8828" y2="380.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="41" y="372.9297">ImOrganizer</text></g><g id="Private.Organizer.NotOrganizer"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="362.5" y="354.3945"/><line style="stroke:#181818;stroke-width:0.5;" x1="362.5" x2="475.5" y1="380.8828" y2="380.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="372.5" y="372.9297">NotOrganizer</text></g><!--MD5=[e7b01a899659ee217f835dd144acba4d]
link *start*Organizer to COrganizerCheck--><g id="link_*start*Organizer_COrganizerCheck"><path d="M251,224.6445 C251,236.1545 251,256.0645 251,270.5845 " fill="none" id="*start*Organizer-to-COrganizerCheck" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="251,275.3045,255,266.3045,251,270.3045,247,266.3045,251,275.3045" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="252" y="255.9629">Observe Deploy</text></g><!--MD5=[b2b8e26faba3a1d469a622d70e29f210]
link COrganizerCheck to ImOrganizer--><g id="link_COrganizerCheck_ImOrganizer"><path d="M239.76,290.5845 C205.77,291.4045 105.15,295.8245 85,319.3945 C78.45,327.0545 76.79,337.5545 77.22,347.5645 " fill="none" id="COrganizerCheck-to-ImOrganizer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="77.65,352.5345,80.8622,343.2242,77.2206,347.553,72.8918,343.9113,77.65,352.5345" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="86" y="332.9629">public_key(local_secret_key) == ledger.organizer</text></g><!--MD5=[87b39a2adbf3e5d6c37c1e55cea7bf63]
link COrganizerCheck to NotOrganizer--><g id="link_COrganizerCheck_NotOrganizer"><path d="M261.88,291.1945 C292.14,293.6445 376.43,301.8945 397,319.3945 C405.49,326.6145 410.71,337.4545 413.91,347.8745 " fill="none" id="COrganizerCheck-to-NotOrganizer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="415.18,352.4645,416.6759,342.7299,413.8668,347.6401,408.9567,344.831,415.18,352.4645" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="410" y="332.9629">public_key(local_secret_key) != ledger.organizer</text></g><line style="stroke:#181818;stroke-width:1.5;stroke-dasharray:8.0,10.0;" x1="12" x2="726" y1="419.3945" y2="419.3945"/><rect fill="#F1F1F1" height="391.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="562.68" x="19" y="426.3945"/><rect fill="#FFFFFF" height="363" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="560.68" x="20" y="453.8828"/><line style="stroke:#181818;stroke-width:0.5;" x1="19" x2="581.68" y1="452.8828" y2="452.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="281.84" y="444.9297">Voter</text><ellipse cx="230.68" cy="473.8828" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="Private.CONC62.Voter.VoterUnitialized"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="165.68" y="536.8828"/><line style="stroke:#181818;stroke-width:0.5;" x1="165.68" x2="295.68" y1="563.3711" y2="563.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="175.68" y="555.418">VoterUnitialized</text></g><g id="Private.CONC62.Voter.VoterCommitted"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="164.18" y="654.8828"/><line style="stroke:#181818;stroke-width:0.5;" x1="164.18" x2="297.18" y1="681.3711" y2="681.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="174.18" y="673.418">VoterCommitted</text></g><g id="Private.CONC62.Voter.VoterRevealed"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="261.68" y="757.8828"/><line style="stroke:#181818;stroke-width:0.5;" x1="261.68" x2="379.68" y1="784.3711" y2="784.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="271.68" y="776.418">VoterRevealed</text></g><!--MD5=[521a7368346eb424c5aa0a3a80cf7e13]
link *start*Voter to VoterUnitialized--><g id="link_*start*Voter_VoterUnitialized"><path d="M230.68,484.0828 C230.68,495.0228 230.68,513.8528 230.68,530.1228 " fill="none" id="*start*Voter-to-VoterUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="230.68,534.9328,234.68,525.9328,230.68,529.9328,226.68,525.9328,230.68,534.9328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="231.68" y="515.4512">Deploy</text></g><!--MD5=[50c249daa8338db136f19411a940fc8c]
link VoterUnitialized to VoterUnitialized--><g id="link_VoterUnitialized_VoterUnitialized"><path d="M296.1,552.9928 C306.54,554.2928 313.68,557.2528 313.68,561.8828 C313.68,565.4928 309.32,568.0928 302.44,569.6828 " fill="none" id="VoterUnitialized-to-VoterUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="297.59,570.5228,307.1355,572.9485,302.5185,569.68,305.7869,565.0629,297.59,570.5228" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="319.68" y="566.9512">Buy in voting tokens</text></g><!--MD5=[5a9c8199984f6cb3e04842314c1e5638]
link VoterUnitialized to VoterCommitted--><g id="link_VoterUnitialized_VoterCommitted"><path d="M165.23,570.6828 C123.06,577.2128 73.76,588.1828 60.68,604.8828 C30,644.0728 98.39,662.9128 157.38,671.6928 " fill="none" id="VoterUnitialized-to-VoterCommitted" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="162.28,672.4028,153.9277,667.1837,157.3291,671.7037,152.8091,675.1051,162.28,672.4028" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="94.18" y="618.4512">Commit vote</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="61.68" y="633.7617">requires a voting token</text></g><!--MD5=[a6891414458e6cf6786f9e8a5a88d56f]
link VoterCommitted to VoterRevealed--><g id="link_VoterCommitted_VoterRevealed"><path d="M252.47,705.3328 C265.3,719.7228 281.58,738.0028 295.03,753.0828 " fill="none" id="VoterCommitted-to-VoterRevealed" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="298.09,756.5328,295.0803,747.1551,294.7602,752.8029,289.1124,752.4828,298.09,756.5328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="282.68" y="736.4512">Reveal vote</text></g><!--MD5=[a1a643f5537353b17a26db4bf92f8b0b]
link VoterRevealed to VoterUnitialized--><g id="link_VoterRevealed_VoterUnitialized"><path d="M346.01,757.5028 C380.48,721.3528 433.87,652.6428 396.68,604.8828 C384.72,589.5228 341.54,578.8828 302.22,572.1528 " fill="none" id="VoterRevealed-to-VoterUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="297.44,571.3628,305.6549,576.7957,302.3712,572.1894,306.9774,568.9058,297.44,571.3628" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="408.68" y="684.9512">Observe advance to initial</text></g><!--MD5=[085b99ecdcd1f3705d84eb93171ab82f]
link VoterCommitted to VoterUnitialized--><g id="link_VoterCommitted_VoterUnitialized"><path d="M230.68,654.5928 C230.68,636.8228 230.68,612.5628 230.68,593.4628 " fill="none" id="VoterCommitted-to-VoterUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="230.68,588.7128,226.68,597.7128,230.68,593.7128,234.68,597.7128,230.68,588.7128" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="231.68" y="625.9512">Observe advance to initial</text></g><line style="stroke:#181818;stroke-width:1.5;stroke-dasharray:8.0,10.0;" x1="12" x2="726" y1="822.8828" y2="822.8828"/><rect fill="#F1F1F1" height="334.4883" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="661.5" x="19" y="829.8828"/><rect fill="#FFFFFF" height="306" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="659.5" x="20" y="857.3711"/><line style="stroke:#181818;stroke-width:0.5;" x1="19" x2="680.5" y1="856.3711" y2="856.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="312.75" y="848.418">Beneficiary</text><g id="elem_CBeneficiaryCheck"><polygon fill="#F1F1F1" points="252.5,1027.3711,264.5,1039.3711,252.5,1051.3711,240.5,1039.3711,252.5,1027.3711" style="stroke:#181818;stroke-width:0.5;"/></g><ellipse cx="406.5" cy="877.3711" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="Private.CONC75.Beneficiary.BeneficiaryUnitialized"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="167" x="323" y="924.3711"/><line style="stroke:#181818;stroke-width:0.5;" x1="323" x2="490" y1="950.8594" y2="950.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="333" y="942.9063">BeneficiaryUnitialized</text></g><g id="Private.CONC75.Beneficiary.ImBeneficiary"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="31" y="924.3711"/><line style="stroke:#181818;stroke-width:0.5;" x1="31" x2="142" y1="950.8594" y2="950.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="41" y="942.9063">ImBeneficiary</text></g><g id="Private.CONC75.Beneficiary.NotBeneficiary"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="319.5" y="1104.3711"/><line style="stroke:#181818;stroke-width:0.5;" x1="319.5" x2="437.5" y1="1130.8594" y2="1130.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="329.5" y="1122.9063">NotBeneficiary</text></g><!--MD5=[259d21f268bf739306cae75f9519fa45]
link *start*Beneficiary to BeneficiaryUnitialized--><g id="link_*start*Beneficiary_BeneficiaryUnitialized"><path d="M406.5,887.8111 C406.5,895.5511 406.5,906.9511 406.5,917.7811 " fill="none" id="*start*Beneficiary-to-BeneficiaryUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="406.5,922.5411,410.5,913.5411,406.5,917.5411,402.5,913.5411,406.5,922.5411" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1c5fd1a38306f6b2a691ee31a4b64333]
link BeneficiaryUnitialized to CBeneficiaryCheck--><g id="link_BeneficiaryUnitialized_CBeneficiaryCheck"><path d="M376.57,974.6411 C357.89,989.6611 336.49,1006.5811 331.5,1009.3711 C310.55,1021.0611 283.98,1029.6911 267.61,1034.3711 " fill="none" id="BeneficiaryUnitialized-to-CBeneficiaryCheck" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="263.13,1035.6211,272.8738,1037.0559,267.9462,1034.2777,270.7244,1029.3501,263.13,1035.6211" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="354.5" y="1005.9395">Observe proposal init</text></g><!--MD5=[f35cf3fb20a797ffe12182f088561c60]
link CBeneficiaryCheck to ImBeneficiary--><g id="link_CBeneficiaryCheck_ImBeneficiary"><path d="M241.04,1038.2311 C206.39,1037.5511 103.84,1033.5011 83.5,1009.3711 C76.93,1001.5811 75.91,990.9411 77.13,980.8511 " fill="none" id="CBeneficiaryCheck-to-ImBeneficiary" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="77.9,976.1611,72.4903,984.3912,77.0873,981.0946,80.3839,985.6916,77.9,976.1611" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="84.5" y="1005.9395">public_coin_key == ledger.beneficiary</text></g><!--MD5=[769701873abf38776234975619abaa17]
link CBeneficiaryCheck to NotBeneficiary--><g id="link_CBeneficiaryCheck_NotBeneficiary"><path d="M249.95,1049.1111 C247.6,1059.1311 245.55,1075.5611 253.5,1086.3711 C267.45,1105.3311 290.36,1115.8411 312.78,1121.6211 " fill="none" id="CBeneficiaryCheck-to-NotBeneficiary" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="317.62,1122.7811,309.7881,1116.8094,312.7554,1121.6256,307.9392,1124.5929,317.62,1122.7811" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="254.5" y="1082.9395">public_coin_key != ledger.beneficiary</text></g><!--MD5=[3432a4cceb1ab5d3e28e77a63251093c]
link ImBeneficiary to BeneficiaryUnitialized--><g id="link_ImBeneficiary_BeneficiaryUnitialized"><path d="M142.38,960.8211 C161.94,964.3011 184.11,967.6511 204.5,969.3711 C241.03,972.4411 281.23,969.7211 316.08,965.4011 " fill="none" id="ImBeneficiary-to-BeneficiaryUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="321.02,964.7611,311.5883,961.925,316.0597,965.3901,312.5947,969.8615,321.02,964.7611" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="205.5" y="965.9395">cash out</text></g><!--MD5=[3432a4cceb1ab5d3e28e77a63251093c]
link ImBeneficiary to BeneficiaryUnitialized--><g id="link_ImBeneficiary_BeneficiaryUnitialized"><path d="M142.24,949.3711 C190.17,949.3711 260.22,949.3711 316.15,949.3711 " fill="none" id="ImBeneficiary-to-BeneficiaryUnitialized-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="321.04,949.3711,312.04,945.3711,316.04,949.3711,312.04,953.3711,321.04,949.3711" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="152" y="942.9395">observe advance to initial</text></g><!--MD5=[e52273ed1409583602a6a500ebe1573c]
link NotBeneficiary to BeneficiaryUnitialized--><g id="link_NotBeneficiary_BeneficiaryUnitialized"><path d="M437.86,1120.3511 C458.3,1114.4311 479.14,1104.1611 491.5,1086.3711 C515.35,1052.0711 513.55,1027.8611 491.5,992.3711 C488.24,987.1311 484.12,982.5211 479.44,978.4711 " fill="none" id="NotBeneficiary-to-BeneficiaryUnitialized" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="475.79,975.5511,480.3229,984.2948,479.6957,978.6728,485.3177,978.0456,475.79,975.5511" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="509.5" y="1044.4395">observe advance to initial</text></g><rect height="47.1094" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="200" x="265.5" y="1179.3711"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="364" y="1189.0391"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="364" y="1200.8164"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="3" x="364" y="1212.5938"> </text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="200" x="265.5" y="1224.3711">Copyright 2024, Input Output Global, Ltd.</text><!--MD5=[0a01b0c50e7fee2135beaa77d06bd5aa]
@startuml

header %filename()\n%date("yyyy.MM.dd' at 'HH:mm z")\n\n\n

footer \n\n\nCopyright %date("yyyy"), Input Output Global, Ltd.

state Private {
    state Organizer {
        state COrganizerCheck <<choice>>
        [*] - -> COrganizerCheck : Observe Deploy
        COrganizerCheck - -> ImOrganizer : public_key(local_secret_key) == ledger.organizer
        COrganizerCheck - -> NotOrganizer : public_key(local_secret_key) != ledger.organizer
    }
    - -
    state Voter {
        [*] - -> VoterUnitialized : Deploy
        VoterUnitialized - -> VoterUnitialized : Buy in voting tokens
        VoterUnitialized - -> VoterCommitted : Commit vote\nrequires a voting token
        VoterCommitted - -> VoterRevealed : Reveal vote
        VoterRevealed - -> VoterUnitialized : Observe advance to initial
        VoterCommitted - -> VoterUnitialized : Observe advance to initial
    }
    - -
    state Beneficiary {
        state CBeneficiaryCheck <<choice>>

        [*] -d-> BeneficiaryUnitialized
        BeneficiaryUnitialized -d-> CBeneficiaryCheck : Observe proposal init
        CBeneficiaryCheck -d-> ImBeneficiary : public_coin_key == ledger.beneficiary
        CBeneficiaryCheck - -> NotBeneficiary : public_coin_key != ledger.beneficiary
        ImBeneficiary -r-> BeneficiaryUnitialized : cash out
        ImBeneficiary -r-> BeneficiaryUnitialized : observe advance to initial
        NotBeneficiary -r-> BeneficiaryUnitialized : observe advance to initial
    }
}
Private : it consists of 3 independent components which affect available actions
Private : organizer depends on ledger.organizer field, which is set at deploy
Private : beneficiary depends on ledger.beneficiary field, which is set at proposal init
Private : voter - anyone can try to vote, because wallet holds voting tokens and DApp does not know about this

@enduml

@startuml

header private-state.puml\n2024.01.08 at 12:24 CET\n\n\n

footer \n\n\nCopyright 2024, Input Output Global, Ltd.

state Private {
    state Organizer {
        state COrganizerCheck <<choice>>
        [*] - -> COrganizerCheck : Observe Deploy
        COrganizerCheck - -> ImOrganizer : public_key(local_secret_key) == ledger.organizer
        COrganizerCheck - -> NotOrganizer : public_key(local_secret_key) != ledger.organizer
    }
    - -
    state Voter {
        [*] - -> VoterUnitialized : Deploy
        VoterUnitialized - -> VoterUnitialized : Buy in voting tokens
        VoterUnitialized - -> VoterCommitted : Commit vote\nrequires a voting token
        VoterCommitted - -> VoterRevealed : Reveal vote
        VoterRevealed - -> VoterUnitialized : Observe advance to initial
        VoterCommitted - -> VoterUnitialized : Observe advance to initial
    }
    - -
    state Beneficiary {
        state CBeneficiaryCheck <<choice>>

        [*] -d-> BeneficiaryUnitialized
        BeneficiaryUnitialized -d-> CBeneficiaryCheck : Observe proposal init
        CBeneficiaryCheck -d-> ImBeneficiary : public_coin_key == ledger.beneficiary
        CBeneficiaryCheck - -> NotBeneficiary : public_coin_key != ledger.beneficiary
        ImBeneficiary -r-> BeneficiaryUnitialized : cash out
        ImBeneficiary -r-> BeneficiaryUnitialized : observe advance to initial
        NotBeneficiary -r-> BeneficiaryUnitialized : observe advance to initial
    }
}
Private : it consists of 3 independent components which affect available actions
Private : organizer depends on ledger.organizer field, which is set at deploy
Private : beneficiary depends on ledger.beneficiary field, which is set at proposal init
Private : voter - anyone can try to vote, because wallet holds voting tokens and DApp does not know about this

@enduml

PlantUML version 1.2022.3(Tue Mar 29 18:10:57 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PL
--></g></svg>